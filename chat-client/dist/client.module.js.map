{"version":3,"file":"client.module.js","sources":["../../node_modules/@feathersjs/commons/lib/utils.js","../../node_modules/@feathersjs/commons/lib/hooks.js","../../node_modules/@feathersjs/commons/lib/filter-query.js","../../node_modules/@feathersjs/commons/lib/commons.js","../../node_modules/uberproto/lib/proto.js","../../node_modules/ms/index.js","../../node_modules/@feathersjs/feathers/node_modules/debug/src/common.js","../../node_modules/@feathersjs/feathers/node_modules/debug/src/browser.js","../../node_modules/has-flag/index.js","../../node_modules/supports-color/index.js","../../node_modules/@feathersjs/feathers/node_modules/debug/src/node.js","../../node_modules/@feathersjs/feathers/node_modules/debug/src/index.js","../../node_modules/@feathersjs/feathers/lib/events.js","../../node_modules/@feathersjs/feathers/lib/hooks/base.js","../../node_modules/@feathersjs/feathers/lib/hooks/index.js","../../node_modules/@feathersjs/feathers/lib/version.js","../../node_modules/@feathersjs/feathers/lib/application.js","../../node_modules/@feathersjs/feathers/lib/index.js","../../node_modules/@feathersjs/errors/node_modules/debug/src/common.js","../../node_modules/@feathersjs/errors/node_modules/debug/src/browser.js","../../node_modules/@feathersjs/errors/node_modules/debug/src/node.js","../../node_modules/@feathersjs/errors/node_modules/debug/src/index.js","../../node_modules/@feathersjs/errors/lib/index.js","../../node_modules/@feathersjs/transport-commons/node_modules/debug/src/common.js","../../node_modules/@feathersjs/transport-commons/node_modules/debug/src/browser.js","../../node_modules/@feathersjs/transport-commons/node_modules/debug/src/node.js","../../node_modules/@feathersjs/transport-commons/node_modules/debug/src/index.js","../../node_modules/@feathersjs/transport-commons/lib/client.js","../../node_modules/@feathersjs/transport-commons/client.js","../../node_modules/@feathersjs/socketio-client/lib/index.js","../../node_modules/@feathersjs/authentication-client/lib/hooks/populate-header.js","../../node_modules/@feathersjs/authentication-client/lib/hooks/populate-access-token.js","../../node_modules/@feathersjs/authentication-client/lib/hooks/populate-entity.js","../../node_modules/@feathersjs/authentication-client/lib/hooks/index.js","../../node_modules/jwt-decode/lib/atob.js","../../node_modules/jwt-decode/lib/base64_url_decode.js","../../node_modules/jwt-decode/lib/index.js","../../node_modules/@feathersjs/authentication-client/node_modules/debug/src/common.js","../../node_modules/@feathersjs/authentication-client/node_modules/debug/src/browser.js","../../node_modules/@feathersjs/authentication-client/node_modules/debug/src/node.js","../../node_modules/@feathersjs/authentication-client/node_modules/debug/src/index.js","../../node_modules/@feathersjs/authentication-client/lib/utils.js","../../node_modules/@feathersjs/authentication-client/lib/passport.js","../../node_modules/@feathersjs/authentication-client/lib/index.js","../../node_modules/parseuri/index.js","../../node_modules/socket.io-client/node_modules/ms/index.js","../../node_modules/socket.io-client/node_modules/debug/src/debug.js","../../node_modules/socket.io-client/node_modules/debug/src/browser.js","../../node_modules/socket.io-client/node_modules/debug/src/node.js","../../node_modules/socket.io-client/node_modules/debug/src/index.js","../../node_modules/socket.io-client/lib/url.js","../../node_modules/socket.io-parser/node_modules/ms/index.js","../../node_modules/socket.io-parser/node_modules/debug/src/debug.js","../../node_modules/socket.io-parser/node_modules/debug/src/browser.js","../../node_modules/socket.io-parser/node_modules/debug/src/node.js","../../node_modules/socket.io-parser/node_modules/debug/src/index.js","../../node_modules/component-emitter/index.js","../../node_modules/socket.io-parser/node_modules/isarray/index.js","../../node_modules/socket.io-parser/is-buffer.js","../../node_modules/socket.io-parser/binary.js","../../node_modules/socket.io-parser/index.js","../../node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","../../node_modules/engine.io-parser/lib/utf8.js","../../node_modules/has-binary2/node_modules/isarray/index.js","../../node_modules/has-binary2/index.js","../../node_modules/after/index.js","../../node_modules/engine.io-parser/lib/keys.js","../../node_modules/engine.io-parser/lib/index.js","../../node_modules/engine.io-client/lib/transport.js","../../node_modules/parseqs/index.js","../../node_modules/yeast/index.js","../../node_modules/component-inherit/index.js","../../node_modules/engine.io-client/node_modules/ms/index.js","../../node_modules/engine.io-client/node_modules/debug/src/debug.js","../../node_modules/engine.io-client/node_modules/debug/src/browser.js","../../node_modules/engine.io-client/node_modules/debug/src/node.js","../../node_modules/engine.io-client/node_modules/debug/src/index.js","../../node_modules/engine.io-client/lib/transports/polling.js","../../node_modules/engine.io-client/lib/transports/polling-xhr.js","../../node_modules/engine.io-client/lib/transports/polling-jsonp.js","../../node_modules/engine.io-client/lib/transports/websocket.js","../../node_modules/engine.io-client/lib/transports/index.js","../../node_modules/indexof/index.js","../../node_modules/engine.io-client/lib/socket.js","../../node_modules/engine.io-client/lib/index.js","../../node_modules/to-array/index.js","../../node_modules/socket.io-client/lib/on.js","../../node_modules/component-bind/index.js","../../node_modules/socket.io-client/lib/socket.js","../../node_modules/backo2/index.js","../../node_modules/socket.io-client/lib/manager.js","../../node_modules/socket.io-client/lib/index.js","../client.js"],"sourcesContent":["// Removes all leading and trailing slashes from a path\nexports.stripSlashes = function stripSlashes (name) {\n  return name.replace(/^(\\/+)|(\\/+)$/g, '');\n};\n\n// A set of lodash-y utility functions that use ES6\nconst _ = exports._ = {\n  each (obj, callback) {\n    if (obj && typeof obj.forEach === 'function') {\n      obj.forEach(callback);\n    } else if (_.isObject(obj)) {\n      Object.keys(obj).forEach(key => callback(obj[key], key));\n    }\n  },\n\n  some (value, callback) {\n    return Object.keys(value)\n      .map(key => [ value[key], key ])\n      .some(([val, key]) => callback(val, key));\n  },\n\n  every (value, callback) {\n    return Object.keys(value)\n      .map(key => [ value[key], key ])\n      .every(([val, key]) => callback(val, key));\n  },\n\n  keys (obj) {\n    return Object.keys(obj);\n  },\n\n  values (obj) {\n    return _.keys(obj).map(key => obj[key]);\n  },\n\n  isMatch (obj, item) {\n    return _.keys(item).every(key => obj[key] === item[key]);\n  },\n\n  isEmpty (obj) {\n    return _.keys(obj).length === 0;\n  },\n\n  isObject (item) {\n    return (typeof item === 'object' && !Array.isArray(item) && item !== null);\n  },\n\n  isObjectOrArray (value) {\n    return typeof value === 'object' && value !== null;\n  },\n\n  extend (...args) {\n    return Object.assign(...args);\n  },\n\n  omit (obj, ...keys) {\n    const result = _.extend({}, obj);\n    keys.forEach(key => delete result[key]);\n    return result;\n  },\n\n  pick (source, ...keys) {\n    return keys.reduce((result, key) => {\n      if (source[key] !== undefined) {\n        result[key] = source[key];\n      }\n\n      return result;\n    }, {});\n  },\n\n  // Recursively merge the source object into the target object\n  merge (target, source) {\n    if (_.isObject(target) && _.isObject(source)) {\n      Object.keys(source).forEach(key => {\n        if (_.isObject(source[key])) {\n          if (!target[key]) {\n            Object.assign(target, { [key]: {} });\n          }\n\n          _.merge(target[key], source[key]);\n        } else {\n          Object.assign(target, { [key]: source[key] });\n        }\n      });\n    }\n    return target;\n  }\n};\n\n// Return a function that filters a result object or array\n// and picks only the fields passed as `params.query.$select`\n// and additional `otherFields`\nexports.select = function select (params, ...otherFields) {\n  const fields = params && params.query && params.query.$select;\n\n  if (Array.isArray(fields) && otherFields.length) {\n    fields.push(...otherFields);\n  }\n\n  const convert = result => {\n    if (!Array.isArray(fields)) {\n      return result;\n    }\n\n    return _.pick(result, ...fields);\n  };\n\n  return result => {\n    if (Array.isArray(result)) {\n      return result.map(convert);\n    }\n\n    return convert(result);\n  };\n};\n\n// Duck-checks if an object looks like a promise\nexports.isPromise = function isPromise (result) {\n  return _.isObject(result) &&\n    typeof result.then === 'function';\n};\n\nexports.makeUrl = function makeUrl (path, app = {}) {\n  const get = typeof app.get === 'function' ? app.get.bind(app) : () => {};\n  const env = get('env') || process.env.NODE_ENV;\n  const host = get('host') || process.env.HOST_NAME || 'localhost';\n  const protocol = (env === 'development' || env === 'test' || (env === undefined)) ? 'http' : 'https';\n  const PORT = get('port') || process.env.PORT || 3030;\n  const port = (env === 'development' || env === 'test' || (env === undefined)) ? `:${PORT}` : '';\n\n  path = path || '';\n\n  return `${protocol}://${host}${port}/${exports.stripSlashes(path)}`;\n};\n\nexports.createSymbol = name => {\n  return typeof Symbol !== 'undefined' ? Symbol(name) : name;\n};\n\n// Sorting algorithm taken from NeDB (https://github.com/louischatriot/nedb)\n// See https://github.com/louischatriot/nedb/blob/e3f0078499aa1005a59d0c2372e425ab789145c1/lib/model.js#L189\n\nexports.compareNSB = function (a, b) {\n  if (a < b) { return -1; }\n  if (a > b) { return 1; }\n  return 0;\n};\n\nexports.compareArrays = function (a, b) {\n  var i, comp;\n\n  for (i = 0; i < Math.min(a.length, b.length); i += 1) {\n    comp = exports.compare(a[i], b[i]);\n\n    if (comp !== 0) { return comp; }\n  }\n\n  // Common section was identical, longest one wins\n  return exports.compareNSB(a.length, b.length);\n};\n\nexports.compare = function (a, b, compareStrings = exports.compareNSB) {\n  const { compareNSB, compare, compareArrays } = exports;\n\n  // undefined\n  if (a === undefined) { return b === undefined ? 0 : -1; }\n  if (b === undefined) { return a === undefined ? 0 : 1; }\n\n  // null\n  if (a === null) { return b === null ? 0 : -1; }\n  if (b === null) { return a === null ? 0 : 1; }\n\n  // Numbers\n  if (typeof a === 'number') { return typeof b === 'number' ? compareNSB(a, b) : -1; }\n  if (typeof b === 'number') { return typeof a === 'number' ? compareNSB(a, b) : 1; }\n\n  // Strings\n  if (typeof a === 'string') { return typeof b === 'string' ? compareStrings(a, b) : -1; }\n  if (typeof b === 'string') { return typeof a === 'string' ? compareStrings(a, b) : 1; }\n\n  // Booleans\n  if (typeof a === 'boolean') { return typeof b === 'boolean' ? compareNSB(a, b) : -1; }\n  if (typeof b === 'boolean') { return typeof a === 'boolean' ? compareNSB(a, b) : 1; }\n\n  // Dates\n  if (a instanceof Date) { return b instanceof Date ? compareNSB(a.getTime(), b.getTime()) : -1; }\n  if (b instanceof Date) { return a instanceof Date ? compareNSB(a.getTime(), b.getTime()) : 1; }\n\n  // Arrays (first element is most significant and so on)\n  if (Array.isArray(a)) { return Array.isArray(b) ? compareArrays(a, b) : -1; }\n  if (Array.isArray(b)) { return Array.isArray(a) ? compareArrays(a, b) : 1; }\n\n  // Objects\n  const aKeys = Object.keys(a).sort();\n  const bKeys = Object.keys(b).sort();\n  let comp = 0;\n\n  for (let i = 0; i < Math.min(aKeys.length, bKeys.length); i += 1) {\n    comp = compare(a[aKeys[i]], b[bKeys[i]]);\n\n    if (comp !== 0) { return comp; }\n  }\n\n  return compareNSB(aKeys.length, bKeys.length);\n};\n\n// An in-memory sorting function according to the\n// $sort special query parameter\nexports.sorter = function ($sort) {\n  const criteria = Object.keys($sort).map(key => {\n    const direction = $sort[key];\n\n    return { key, direction };\n  });\n\n  return function (a, b) {\n    let compare;\n\n    for (let i = 0; i < criteria.length; i++) {\n      const criterion = criteria[i];\n\n      compare = criterion.direction * exports.compare(a[criterion.key], b[criterion.key]);\n\n      if (compare !== 0) {\n        return compare;\n      }\n    }\n\n    return 0;\n  };\n};\n","const { _: { each, pick }, createSymbol } = require('./utils');\n\n// To skip further hooks\nconst SKIP = createSymbol('__feathersSkipHooks');\n\nexports.SKIP = SKIP;\nexports.ACTIVATE_HOOKS = createSymbol('__feathersActivateHooks');\n\nexports.createHookObject = function createHookObject (method, data = {}) {\n  const hook = {};\n\n  Object.defineProperty(hook, 'toJSON', {\n    value () {\n      return pick(this, 'type', 'method', 'path',\n        'params', 'id', 'data', 'result', 'error');\n    }\n  });\n\n  return Object.assign(hook, data, {\n    method,\n    // A dynamic getter that returns the path of the service\n    get path () {\n      const { app, service } = data;\n\n      if (!service || !app || !app.services) {\n        return null;\n      }\n\n      return Object.keys(app.services)\n        .find(path => app.services[path] === service);\n    }\n  });\n};\n\n// Fallback used by `makeArguments` which usually won't be used\nexports.defaultMakeArguments = function defaultMakeArguments (hook) {\n  const result = [];\n\n  if (typeof hook.id !== 'undefined') {\n    result.push(hook.id);\n  }\n\n  if (hook.data) {\n    result.push(hook.data);\n  }\n\n  result.push(hook.params || {});\n\n  return result;\n};\n\n// Turns a hook object back into a list of arguments\n// to call a service method with\nexports.makeArguments = function makeArguments (hook) {\n  switch (hook.method) {\n    case 'find':\n      return [ hook.params ];\n    case 'get':\n    case 'remove':\n      return [ hook.id, hook.params ];\n    case 'update':\n    case 'patch':\n      return [ hook.id, hook.data, hook.params ];\n    case 'create':\n      return [ hook.data, hook.params ];\n  }\n\n  return exports.defaultMakeArguments(hook);\n};\n\n// Converts different hook registration formats into the\n// same internal format\nexports.convertHookData = function convertHookData (obj) {\n  let hook = {};\n\n  if (Array.isArray(obj)) {\n    hook = { all: obj };\n  } else if (typeof obj !== 'object') {\n    hook = { all: [ obj ] };\n  } else {\n    each(obj, function (value, key) {\n      hook[key] = !Array.isArray(value) ? [ value ] : value;\n    });\n  }\n\n  return hook;\n};\n\n// Duck-checks a given object to be a hook object\n// A valid hook object has `type` and `method`\nexports.isHookObject = function isHookObject (hookObject) {\n  return typeof hookObject === 'object' &&\n    typeof hookObject.method === 'string' &&\n    typeof hookObject.type === 'string';\n};\n\n// Returns all service and application hooks combined\n// for a given method and type `appLast` sets if the hooks\n// from `app` should be added last (or first by default)\nexports.getHooks = function getHooks (app, service, type, method, appLast = false) {\n  const appHooks = app.__hooks[type][method] || [];\n  const serviceHooks = service.__hooks[type][method] || [];\n\n  if (appLast) {\n    // Run hooks in the order of service -> app -> finally\n    return serviceHooks.concat(appHooks);\n  }\n\n  return appHooks.concat(serviceHooks);\n};\n\nexports.processHooks = function processHooks (hooks, initialHookObject) {\n  let hookObject = initialHookObject;\n  let updateCurrentHook = current => {\n    // Either use the returned hook object or the current\n    // hook object from the chain if the hook returned undefined\n    if (current) {\n      if (current === SKIP) {\n        return SKIP;\n      }\n\n      if (!exports.isHookObject(current)) {\n        throw new Error(`${hookObject.type} hook for '${hookObject.method}' method returned invalid hook object`);\n      }\n\n      hookObject = current;\n    }\n\n    return hookObject;\n  };\n  // Go through all hooks and chain them into our promise\n  const promise = hooks.reduce((promise, fn) => {\n    const hook = fn.bind(this);\n\n    if (hook.length === 2) { // function(hook, next)\n      promise = promise.then(hookObject => hookObject === SKIP ? SKIP : new Promise((resolve, reject) => {\n        hook(hookObject, (error, result) =>\n          error ? reject(error) : resolve(result)\n        );\n      }));\n    } else { // function(hook)\n      promise = promise.then(hookObject => hookObject === SKIP ? SKIP : hook(hookObject));\n    }\n\n    // Use the returned hook object or the old one\n    return promise.then(updateCurrentHook);\n  }, Promise.resolve(hookObject));\n\n  return promise.then(() => hookObject).catch(error => {\n    // Add the hook information to any errors\n    error.hook = hookObject;\n    throw error;\n  });\n};\n\n// Add `.hooks` functionality to an object\nexports.enableHooks = function enableHooks (obj, methods, types) {\n  if (typeof obj.hooks === 'function') {\n    return obj;\n  }\n\n  const __hooks = {};\n\n  types.forEach(type => {\n    // Initialize properties where hook functions are stored\n    __hooks[type] = {};\n  });\n\n  // Add non-enumerable `__hooks` property to the object\n  Object.defineProperty(obj, '__hooks', {\n    value: __hooks\n  });\n\n  return Object.assign(obj, {\n    hooks (allHooks) {\n      each(allHooks, (obj, type) => {\n        if (!this.__hooks[type]) {\n          throw new Error(`'${type}' is not a valid hook type`);\n        }\n\n        const hooks = exports.convertHookData(obj);\n\n        each(hooks, (value, method) => {\n          if (method !== 'all' && methods.indexOf(method) === -1) {\n            throw new Error(`'${method}' is not a valid hook method`);\n          }\n        });\n\n        methods.forEach(method => {\n          const myHooks = this.__hooks[type][method] ||\n            (this.__hooks[type][method] = []);\n\n          if (hooks.all) {\n            myHooks.push.apply(myHooks, hooks.all);\n          }\n\n          if (hooks[method]) {\n            myHooks.push.apply(myHooks, hooks[method]);\n          }\n        });\n      });\n\n      return this;\n    }\n  });\n};\n","const { _ } = require('./utils');\n\nfunction parse (number) {\n  if (typeof number !== 'undefined') {\n    return Math.abs(parseInt(number, 10));\n  }\n}\n\n// Returns the pagination limit and will take into account the\n// default and max pagination settings\nfunction getLimit (limit, paginate) {\n  if (paginate && paginate.default) {\n    const lower = typeof limit === 'number' ? limit : paginate.default;\n    const upper = typeof paginate.max === 'number' ? paginate.max : Number.MAX_VALUE;\n\n    return Math.min(lower, upper);\n  }\n\n  return limit;\n}\n\n// Makes sure that $sort order is always converted to an actual number\nfunction convertSort (sort) {\n  if (typeof sort !== 'object' || Array.isArray(sort)) {\n    return sort;\n  }\n\n  return Object.keys(sort).reduce((result, key) => {\n    result[key] = typeof sort[key] === 'object'\n      ? sort[key] : parseInt(sort[key], 10);\n\n    return result;\n  }, {});\n}\n\nfunction cleanQuery (query, operators) {\n  if (_.isObject(query)) {\n    const result = {};\n    _.each(query, (query, key) => {\n      if (key[0] === '$' && operators.indexOf(key) === -1) return;\n      result[key] = cleanQuery(query, operators);\n    });\n    return result;\n  }\n\n  return query;\n}\n\nfunction assignFilters (object, query, filters, options) {\n  if (Array.isArray(filters)) {\n    _.each(filters, (key) => {\n      object[key] = query[key];\n    });\n  } else {\n    _.each(filters, (converter, key) => {\n      object[key] = converter(query[key], options);\n    });\n  }\n\n  return object;\n}\n\nconst FILTERS = {\n  $sort: (value) => convertSort(value),\n  $limit: (value, options) => getLimit(parse(value), options.paginate),\n  $skip: (value) => parse(value),\n  $select: (value) => value\n};\n\nconst OPERATORS = ['$in', '$nin', '$lt', '$lte', '$gt', '$gte', '$ne', '$or'];\n\n// Converts Feathers special query parameters and pagination settings\n// and returns them separately a `filters` and the rest of the query\n// as `query`\nmodule.exports = function filterQuery (query, options = {}) {\n  const {\n    filters: additionalFilters = {},\n    operators: additionalOperators = []\n  } = options;\n  const result = {};\n\n  result.filters = assignFilters({}, query, FILTERS, options);\n  result.filters = assignFilters(result.filters, query, additionalFilters, options);\n\n  result.query = cleanQuery(query, OPERATORS.concat(additionalOperators));\n\n  return result;\n};\n\nObject.assign(module.exports, { OPERATORS, FILTERS });\n","const utils = require('./utils');\nconst hooks = require('./hooks');\nconst filterQuery = require('./filter-query');\n\nmodule.exports = Object.assign({}, utils, { hooks, filterQuery });\n","/* global define */\n/**\n * Uberproto\n *\n * A base object for ECMAScript 5 style prototypal inheritance.\n *\n * @see https://github.com/rauschma/proto-js/\n * @see http://ejohn.org/blog/simple-javascript-inheritance/\n * @see http://uxebu.com/blog/2011/02/23/object-based-inheritance-for-ecmascript-5/\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Proto = factory();\n  }\n}(this, function () {\n  var HAS_SYMBOLS = typeof Object.getOwnPropertySymbols === 'function';\n\n  function makeSuper (_super, old, name, fn) {\n    var isFunction = typeof old === 'function';\n    var newMethod = function () {\n      var tmp = this._super;\n\n      // Add a new ._super() method that is the same method\n      // but either pointing to the prototype method\n      // or to the overwritten method\n      this._super = isFunction ? old : _super[name];\n\n      // The method only need to be bound temporarily, so we\n      // remove it when we're done executing\n      var ret = fn.apply(this, arguments);\n\n      this._super = tmp;\n\n      return ret;\n    };\n\n    if (isFunction && HAS_SYMBOLS) {\n      Object.getOwnPropertySymbols(old).forEach(function (name) {\n        newMethod[name] = old[name];\n      });\n    }\n\n    return newMethod;\n  }\n\n  return {\n    /**\n     * Create a new object using Object.create. The arguments will be\n     * passed to the new instances init method or to a method name set in\n     * __init.\n     */\n    create: function () {\n      var instance = Object.create(this);\n      var init = typeof instance.__init === 'string' ? instance.__init : 'init';\n\n      if (typeof instance[init] === 'function') {\n        instance[init].apply(instance, arguments);\n      }\n      return instance;\n    },\n    /**\n     * Mixin a given set of properties\n     * @param prop The properties to mix in\n     * @param obj [optional]\n     * The object to add the mixin\n     */\n    mixin: function (prop, obj) {\n      var self = obj || this;\n      var fnTest = /\\b_super\\b/;\n      var _super = Object.getPrototypeOf(self) || self.prototype;\n      var descriptors = {};\n      var proto = prop;\n      var processProperty = function (name) {\n        var descriptor = Object.getOwnPropertyDescriptor(proto, name);\n\n        if (!descriptors[name] && descriptor) {\n          descriptors[name] = descriptor;\n        }\n      };\n\n      // Collect all property descriptors\n      do {\n        Object.getOwnPropertyNames(proto).forEach(processProperty);\n\n        if (HAS_SYMBOLS) {\n          Object.getOwnPropertySymbols(proto).forEach(processProperty);\n        }\n      } while ((proto = Object.getPrototypeOf(proto)) && Object.getPrototypeOf(proto));\n\n      var processDescriptor = function (name) {\n        var descriptor = descriptors[name];\n\n        if (typeof descriptor.value === 'function' && fnTest.test(descriptor.value)) {\n          descriptor.value = makeSuper(_super, self[name], name, descriptor.value);\n        }\n\n        Object.defineProperty(self, name, descriptor);\n      };\n\n      Object.keys(descriptors).forEach(processDescriptor);\n\n      if (HAS_SYMBOLS) {\n        Object.getOwnPropertySymbols(descriptors).forEach(processDescriptor);\n      }\n\n      return self;\n    },\n    /**\n     * Extend the current or a given object with the given property and return the extended object.\n     * @param prop The properties to extend with\n     * @param obj [optional] The object to extend from\n     * @returns The extended object\n     */\n    extend: function (prop, obj) {\n      return this.mixin(prop, Object.create(obj || this));\n    },\n    /**\n     * Return a callback function with this set to the current or a given context object.\n     * @param name Name of the method to proxy\n     * @param args... [optional] Arguments to use for partial application\n     */\n    proxy: function (name) {\n      var fn = this[name];\n      var args = Array.prototype.slice.call(arguments, 1);\n\n      args.unshift(this);\n      return fn.bind.apply(fn, args);\n    }\n  };\n}));\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","const { EventEmitter } = require('events');\nconst Proto = require('uberproto');\n\n// Returns a hook that emits service events. Should always be\n// used as the very last hook in the chain\nconst eventHook = exports.eventHook = function eventHook () {\n  return function (hook) {\n    const { app, service } = hook;\n    const eventName = app.eventMappings[hook.method];\n    const isHookEvent = service._hookEvents && service._hookEvents.indexOf(eventName) !== -1;\n\n    // If this event is not being sent yet and we are not in an error hook\n    if (eventName && isHookEvent && hook.type !== 'error') {\n      const results = Array.isArray(hook.result) ? hook.result : [ hook.result ];\n\n      results.forEach(element => service.emit(eventName, element, hook));\n    }\n  };\n};\n\n// Mixin that turns a service into a Node event emitter\nconst eventMixin = exports.eventMixin = function eventMixin (service) {\n  if (service._serviceEvents) {\n    return;\n  }\n\n  const app = this;\n  // Indicates if the service is already an event emitter\n  const isEmitter = typeof service.on === 'function' &&\n    typeof service.emit === 'function';\n\n  // If not, mix it in (the service is always an Uberproto object that has a .mixin)\n  if (typeof service.mixin === 'function' && !isEmitter) {\n    service.mixin(EventEmitter.prototype);\n  }\n\n  // Define non-enumerable properties of\n  Object.defineProperties(service, {\n    // A list of all events that this service sends\n    _serviceEvents: {\n      value: Array.isArray(service.events) ? service.events.slice() : []\n    },\n\n    // A list of events that should be handled through the event hooks\n    _hookEvents: {\n      value: []\n    }\n  });\n\n  // `app.eventMappings` has the mapping from method name to event name\n  Object.keys(app.eventMappings).forEach(method => {\n    const event = app.eventMappings[method];\n    const alreadyEmits = service._serviceEvents.indexOf(event) !== -1;\n\n    // Add events for known methods to _serviceEvents and _hookEvents\n    // if the service indicated it does not send it itself yet\n    if (typeof service[method] === 'function' && !alreadyEmits) {\n      service._serviceEvents.push(event);\n      service._hookEvents.push(event);\n    }\n  });\n};\n\nmodule.exports = function () {\n  return function (app) {\n    // Mappings from service method to event name\n    Object.assign(app, {\n      eventMappings: {\n        create: 'created',\n        update: 'updated',\n        remove: 'removed',\n        patch: 'patched'\n      }\n    });\n\n    // Register the event hook\n    // `finally` hooks always run last after `error` and `after` hooks\n    app.hooks({ finally: eventHook() });\n\n    // Make the app an event emitter\n    Proto.mixin(EventEmitter.prototype, app);\n\n    app.mixins.push(eventMixin);\n  };\n};\n","const { _ } = require('@feathersjs/commons');\n\nconst assignArguments = context => {\n  const { service, method } = context;\n  const parameters = service.methods[method];\n  const argsObject = context.arguments.reduce((result, value, index) => {\n    result[parameters[index]] = value;\n    return result;\n  }, {});\n\n  if (!argsObject.params) {\n    argsObject.params = {};\n  }\n\n  Object.assign(context, argsObject);\n\n  return context;\n};\n\nconst validate = context => {\n  const { service, method } = context;\n  const parameters = service.methods[method];\n\n  if (parameters.includes('id') && context.id === undefined) {\n    throw new Error(`An id must be provided to the '${method}' method`);\n  }\n\n  if (parameters.includes('data') && !_.isObjectOrArray(context.data)) {\n    throw new Error(`A data object must be provided to the '${method}' method`);\n  }\n\n  return context;\n};\n\nmodule.exports = [ assignArguments, validate ];\n","const { hooks, isPromise, _ } = require('@feathersjs/commons');\nconst baseHooks = require('./base');\n\nconst {\n  createHookObject,\n  getHooks,\n  processHooks,\n  enableHooks,\n  ACTIVATE_HOOKS\n} = hooks;\n\nconst makeArguments = (service, method, hookObject) => service.methods[ method ].reduce((result, value) => ([\n  ...result,\n  hookObject[ value ]\n]), []);\n\nconst withHooks = function withHooks ({\n  app,\n  service,\n  method,\n  original\n}) {\n  return (_hooks = {}) => {\n    const hooks = app.hookTypes.reduce((result, type) => {\n      const value = _hooks[type] || [];\n\n      result[type] = Array.isArray(value) ? value : [ value ];\n\n      return result;\n    }, {});\n\n    return function (...args) {\n      const returnHook = args[args.length - 1] === true\n        ? args.pop() : false;\n\n      // A reference to the original method\n      const _super = original || service[method].bind(service);\n      // Create the hook object that gets passed through\n      const hookObject = createHookObject(method, {\n        type: 'before', // initial hook object type\n        arguments: args,\n        service,\n        app\n      });\n\n      // Process all before hooks\n      return processHooks.call(service, baseHooks.concat(hooks.before), hookObject)\n        // Use the hook object to call the original method\n        .then(hookObject => {\n          // If `hookObject.result` is set, skip the original method\n          if (typeof hookObject.result !== 'undefined') {\n            return hookObject;\n          }\n\n          // Otherwise, call it with arguments created from the hook object\n          const promise = _super(...makeArguments(service, method, hookObject));\n\n          if (!isPromise(promise)) {\n            throw new Error(`Service method '${hookObject.method}' for '${hookObject.path}' service must return a promise`);\n          }\n\n          return promise.then(result => {\n            hookObject.result = result;\n\n            return hookObject;\n          });\n        })\n        // Make a (shallow) copy of hookObject from `before` hooks and update type\n        .then(hookObject => Object.assign({}, hookObject, { type: 'after' }))\n        // Run through all `after` hooks\n        .then(hookObject => {\n          // Combine all app and service `after` and `finally` hooks and process\n          const hookChain = hooks.after.concat(hooks.finally);\n\n          return processHooks.call(service, hookChain, hookObject);\n        })\n        .then(hookObject =>\n          // Finally, return the result\n          // Or the hook object if the `returnHook` flag is set\n          returnHook ? hookObject : hookObject.result\n        )\n        // Handle errors\n        .catch(error => {\n          // Combine all app and service `error` and `finally` hooks and process\n          const hookChain = hooks.error.concat(hooks.finally);\n\n          // A shallow copy of the hook object\n          const errorHookObject = _.omit(Object.assign({}, error.hook, hookObject, {\n            type: 'error',\n            original: error.hook,\n            error\n          }), 'result');\n\n          return processHooks.call(service, hookChain, errorHookObject)\n            .catch(error => {\n              errorHookObject.error = error;\n\n              return errorHookObject;\n            })\n            .then(hook => {\n              if (returnHook) {\n                // Either resolve or reject with the hook object\n                return typeof hook.result !== 'undefined' ? hook : Promise.reject(hook);\n              }\n\n              // Otherwise return either the result if set (to swallow errors)\n              // Or reject with the hook error\n              return typeof hook.result !== 'undefined' ? hook.result : Promise.reject(hook.error);\n            });\n        });\n    };\n  };\n};\n\n// A service mixin that adds `service.hooks()` method and functionality\nconst hookMixin = exports.hookMixin = function hookMixin (service) {\n  if (typeof service.hooks === 'function') {\n    return;\n  }\n\n  service.methods = Object.getOwnPropertyNames(service)\n    .filter(key => typeof service[key] === 'function' && service[key][ACTIVATE_HOOKS])\n    .reduce((result, methodName) => {\n      result[methodName] = service[methodName][ACTIVATE_HOOKS];\n      return result;\n    }, service.methods || {});\n\n  Object.assign(service.methods, {\n    find: ['params'],\n    get: ['id', 'params'],\n    create: ['data', 'params'],\n    update: ['id', 'data', 'params'],\n    patch: ['id', 'data', 'params'],\n    remove: ['id', 'params']\n  });\n\n  const app = this;\n  const methodNames = Object.keys(service.methods);\n  // Assemble the mixin object that contains all \"hooked\" service methods\n  const mixin = methodNames.reduce((mixin, method) => {\n    if (typeof service[method] !== 'function') {\n      return mixin;\n    }\n\n    mixin[method] = function () {\n      const service = this;\n      const args = Array.from(arguments);\n      const original = service._super.bind(service);\n\n      return withHooks({\n        app,\n        service,\n        method,\n        original\n      })({\n        before: getHooks(app, service, 'before', method),\n        after: getHooks(app, service, 'after', method, true),\n        error: getHooks(app, service, 'error', method, true),\n        finally: getHooks(app, service, 'finally', method, true)\n      })(...args);\n    };\n\n    return mixin;\n  }, {});\n\n  // Add .hooks method and properties to the service\n  enableHooks(service, methodNames, app.hookTypes);\n\n  service.mixin(mixin);\n};\n\nmodule.exports = function () {\n  return function (app) {\n    // We store a reference of all supported hook types on the app\n    // in case someone needs it\n    Object.assign(app, {\n      hookTypes: ['before', 'after', 'error', 'finally']\n    });\n\n    // Add functionality for hooks to be registered as app.hooks\n    enableHooks(app, app.methods, app.hookTypes);\n\n    app.mixins.push(hookMixin);\n  };\n};\n\nmodule.exports.withHooks = withHooks;\n\nmodule.exports.ACTIVATE_HOOKS = ACTIVATE_HOOKS;\n\nmodule.exports.activateHooks = function activateHooks (args) {\n  return fn => {\n    Object.defineProperty(fn, ACTIVATE_HOOKS, { value: args });\n    return fn;\n  };\n};\n","module.exports = '3.2.3';\n","const debug = require('debug')('feathers:application');\nconst { stripSlashes } = require('@feathersjs/commons');\n\nconst Uberproto = require('uberproto');\nconst events = require('./events');\nconst hooks = require('./hooks');\nconst version = require('./version');\n\nconst Proto = Uberproto.extend({\n  create: null\n});\n\nconst application = {\n  init () {\n    Object.assign(this, {\n      version,\n      methods: [\n        'find', 'get', 'create', 'update', 'patch', 'remove'\n      ],\n      mixins: [],\n      services: {},\n      providers: [],\n      _setup: false,\n      settings: {}\n    });\n\n    this.configure(hooks());\n    this.configure(events());\n  },\n\n  get (name) {\n    return this.settings[name];\n  },\n\n  set (name, value) {\n    this.settings[name] = value;\n    return this;\n  },\n\n  disable (name) {\n    this.settings[name] = false;\n    return this;\n  },\n\n  disabled (name) {\n    return !this.settings[name];\n  },\n\n  enable (name) {\n    this.settings[name] = true;\n    return this;\n  },\n\n  enabled (name) {\n    return !!this.settings[name];\n  },\n\n  configure (fn) {\n    fn.call(this, this);\n\n    return this;\n  },\n\n  service (path, service) {\n    if (typeof service !== 'undefined') {\n      throw new Error('Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.');\n    }\n\n    const location = stripSlashes(path);\n    const current = this.services[location];\n\n    if (typeof current === 'undefined' && typeof this.defaultService === 'function') {\n      return this.use(`/${location}`, this.defaultService(location))\n        .service(location);\n    }\n\n    return current;\n  },\n\n  use (path, service, options = {}) {\n    if (typeof path !== 'string' || stripSlashes(path) === '') {\n      throw new Error(`'${path}' is not a valid service path.`);\n    }\n\n    const location = stripSlashes(path);\n    const isSubApp = typeof service.service === 'function' && service.services;\n    const isService = this.methods.concat('setup').some(name =>\n      (service && typeof service[name] === 'function')\n    );\n\n    if (isSubApp) {\n      const subApp = service;\n\n      Object.keys(subApp.services).forEach(subPath =>\n        this.use(`${location}/${subPath}`, subApp.service(subPath))\n      );\n\n      return this;\n    }\n\n    if (!isService) {\n      throw new Error(`Invalid service object passed for path \\`${location}\\``);\n    }\n\n    // If the service is already Uberproto'd use it directly\n    const protoService = Proto.isPrototypeOf(service) ? service : Proto.extend(service);\n\n    debug(`Registering new service at \\`${location}\\``);\n\n    // Add all the mixins\n    this.mixins.forEach(fn => fn.call(this, protoService, location, options));\n\n    if (typeof protoService._setup === 'function') {\n      protoService._setup(this, location);\n    }\n\n    // Run the provider functions to register the service\n    this.providers.forEach(provider =>\n      provider.call(this, protoService, location, options)\n    );\n\n    // If we ran setup already, set this service up explicitly\n    if (this._isSetup && typeof protoService.setup === 'function') {\n      debug(`Setting up service for \\`${location}\\``);\n      protoService.setup(this, location);\n    }\n\n    this.services[location] = protoService;\n\n    return this;\n  },\n\n  setup () {\n    // Setup each service (pass the app so that they can look up other services etc.)\n    Object.keys(this.services).forEach(path => {\n      const service = this.services[path];\n\n      debug(`Setting up service for \\`${path}\\``);\n\n      if (typeof service.setup === 'function') {\n        service.setup(this, path);\n      }\n    });\n\n    this._isSetup = true;\n\n    return this;\n  }\n};\n\nmodule.exports = application;\n","const { hooks } = require('@feathersjs/commons');\nconst Proto = require('uberproto');\nconst Application = require('./application');\nconst version = require('./version');\nconst { ACTIVATE_HOOKS, activateHooks } = require('./hooks');\n\nfunction createApplication () {\n  const app = {};\n\n  // Mix in the base application\n  Proto.mixin(Application, app);\n\n  app.init();\n\n  return app;\n}\n\ncreateApplication.version = version;\ncreateApplication.SKIP = hooks.SKIP;\ncreateApplication.ACTIVATE_HOOKS = ACTIVATE_HOOKS;\ncreateApplication.activateHooks = activateHooks;\n\nmodule.exports = createApplication;\n\n// For better ES module (TypeScript) compatibility\nmodule.exports.default = createApplication;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","const debug = require('debug')('@feathersjs/errors');\n\nfunction FeathersError (msg, name, code, className, data) {\n  msg = msg || 'Error';\n\n  let errors;\n  let message;\n  let newData;\n\n  if (msg instanceof Error) {\n    message = msg.message || 'Error';\n\n    // NOTE (EK): This is typically to handle validation errors\n    if (msg.errors) {\n      errors = msg.errors;\n    }\n  } else if (typeof msg === 'object') { // Support plain old objects\n    message = msg.message || 'Error';\n    data = msg;\n  } else { // message is just a string\n    message = msg;\n  }\n\n  if (data) {\n    // NOTE(EK): To make sure that we are not messing\n    // with immutable data, just make a copy.\n    // https://github.com/feathersjs/errors/issues/19\n    newData = JSON.parse(JSON.stringify(data));\n\n    if (newData.errors) {\n      errors = newData.errors;\n      delete newData.errors;\n    } else if (data.errors) {\n      // The errors property from data could be\n      // stripped away while cloning resulting newData not to have it\n      // For example: when cloning arrays this property\n      errors = JSON.parse(JSON.stringify(data.errors));\n    }\n  }\n\n  // NOTE (EK): Babel doesn't support this so\n  // we have to pass in the class name manually.\n  // this.name = this.constructor.name;\n  this.type = 'FeathersError';\n  this.name = name;\n  this.message = message;\n  this.code = code;\n  this.className = className;\n  this.data = newData;\n  this.errors = errors || {};\n\n  debug(`${this.name}(${this.code}): ${this.message}`);\n  debug(this.errors);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, FeathersError);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\n\nfunction inheritsFrom (Child, Parent) {\n  Child.prototype = Object.create(Parent.prototype);\n  Child.prototype.constructor = Child;\n}\n\ninheritsFrom(FeathersError, Error);\n\n// NOTE (EK): A little hack to get around `message` not\n// being included in the default toJSON call.\nObject.defineProperty(FeathersError.prototype, 'toJSON', {\n  value: function () {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      className: this.className,\n      data: this.data,\n      errors: this.errors\n    };\n  }\n});\n\n// 400 - Bad Request\nfunction BadRequest (message, data) {\n  FeathersError.call(this, message, 'BadRequest', 400, 'bad-request', data);\n}\n\ninheritsFrom(BadRequest, FeathersError);\n\n// 401 - Not Authenticated\nfunction NotAuthenticated (message, data) {\n  FeathersError.call(this, message, 'NotAuthenticated', 401, 'not-authenticated', data);\n}\n\ninheritsFrom(NotAuthenticated, FeathersError);\n\n// 402 - Payment Error\nfunction PaymentError (message, data) {\n  FeathersError.call(this, message, 'PaymentError', 402, 'payment-error', data);\n}\n\ninheritsFrom(PaymentError, FeathersError);\n\n// 403 - Forbidden\nfunction Forbidden (message, data) {\n  FeathersError.call(this, message, 'Forbidden', 403, 'forbidden', data);\n}\n\ninheritsFrom(Forbidden, FeathersError);\n\n// 404 - Not Found\nfunction NotFound (message, data) {\n  FeathersError.call(this, message, 'NotFound', 404, 'not-found', data);\n}\n\ninheritsFrom(NotFound, FeathersError);\n\n// 405 - Method Not Allowed\nfunction MethodNotAllowed (message, data) {\n  FeathersError.call(this, message, 'MethodNotAllowed', 405, 'method-not-allowed', data);\n}\n\ninheritsFrom(MethodNotAllowed, FeathersError);\n\n// 406 - Not Acceptable\nfunction NotAcceptable (message, data) {\n  FeathersError.call(this, message, 'NotAcceptable', 406, 'not-acceptable', data);\n}\n\ninheritsFrom(NotAcceptable, FeathersError);\n\n// 408 - Timeout\nfunction Timeout (message, data) {\n  FeathersError.call(this, message, 'Timeout', 408, 'timeout', data);\n}\n\ninheritsFrom(Timeout, FeathersError);\n\n// 409 - Conflict\nfunction Conflict (message, data) {\n  FeathersError.call(this, message, 'Conflict', 409, 'conflict', data);\n}\n\ninheritsFrom(Conflict, FeathersError);\n\n// 411 - Length Required\nfunction LengthRequired (message, data) {\n  FeathersError.call(this, message, 'LengthRequired', 411, 'length-required', data);\n}\n\ninheritsFrom(LengthRequired, FeathersError);\n\n// 422 Unprocessable\nfunction Unprocessable (message, data) {\n  FeathersError.call(this, message, 'Unprocessable', 422, 'unprocessable', data);\n}\n\ninheritsFrom(Unprocessable, FeathersError);\n\n// 429 Too Many Requests\nfunction TooManyRequests (message, data) {\n  FeathersError.call(this, message, 'TooManyRequests', 429, 'too-many-requests', data);\n}\n\ninheritsFrom(TooManyRequests, FeathersError);\n\n// 500 - General Error\nfunction GeneralError (message, data) {\n  FeathersError.call(this, message, 'GeneralError', 500, 'general-error', data);\n}\n\ninheritsFrom(GeneralError, FeathersError);\n\n// 501 - Not Implemented\nfunction NotImplemented (message, data) {\n  FeathersError.call(this, message, 'NotImplemented', 501, 'not-implemented', data);\n}\n\ninheritsFrom(NotImplemented, FeathersError);\n\n// 502 - Bad Gateway\nfunction BadGateway (message, data) {\n  FeathersError.call(this, message, 'BadGateway', 502, 'bad-gateway', data);\n}\n\ninheritsFrom(BadGateway, FeathersError);\n\n// 503 - Unavailable\nfunction Unavailable (message, data) {\n  FeathersError.call(this, message, 'Unavailable', 503, 'unavailable', data);\n}\n\ninheritsFrom(Unavailable, FeathersError);\n\nconst errors = {\n  FeathersError,\n  BadRequest,\n  NotAuthenticated,\n  PaymentError,\n  Forbidden,\n  NotFound,\n  MethodNotAllowed,\n  NotAcceptable,\n  Timeout,\n  Conflict,\n  LengthRequired,\n  Unprocessable,\n  TooManyRequests,\n  GeneralError,\n  NotImplemented,\n  BadGateway,\n  Unavailable,\n  400: BadRequest,\n  401: NotAuthenticated,\n  402: PaymentError,\n  403: Forbidden,\n  404: NotFound,\n  405: MethodNotAllowed,\n  406: NotAcceptable,\n  408: Timeout,\n  409: Conflict,\n  411: LengthRequired,\n  422: Unprocessable,\n  429: TooManyRequests,\n  500: GeneralError,\n  501: NotImplemented,\n  502: BadGateway,\n  503: Unavailable\n};\n\nfunction convert (error) {\n  if (!error) {\n    return error;\n  }\n\n  const FeathersError = errors[error.name];\n  const result = FeathersError\n    ? new FeathersError(error.message, error.data)\n    : new Error(error.message || error);\n\n  if (typeof error === 'object') {\n    Object.assign(result, error);\n  }\n\n  return result;\n}\n\nmodule.exports = Object.assign({ convert }, errors);\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","const { convert, Timeout } = require('@feathersjs/errors');\nconst debug = require('debug')('@feathersjs/transport-commons/client');\n\nconst namespacedEmitterMethods = [\n  'addListener',\n  'emit',\n  'listenerCount',\n  'listeners',\n  'on',\n  'once',\n  'prependListener',\n  'prependOnceListener',\n  'removeAllListeners',\n  'removeListener'\n];\nconst otherEmitterMethods = [\n  'eventNames',\n  'getMaxListeners',\n  'setMaxListeners'\n];\n\nconst addEmitterMethods = service => {\n  otherEmitterMethods.forEach(method => {\n    service[method] = function (...args) {\n      if (typeof this.connection[method] !== 'function') {\n        throw new Error(`Can not call '${method}' on the client service connection`);\n      }\n\n      return this.connection[method](...args);\n    };\n  });\n\n  // Methods that should add the namespace (service path)\n  namespacedEmitterMethods.forEach(method => {\n    service[method] = function (name, ...args) {\n      if (typeof this.connection[method] !== 'function') {\n        throw new Error(`Can not call '${method}' on the client service connection`);\n      }\n\n      const eventName = `${this.path} ${name}`;\n\n      debug(`Calling emitter method ${method} with ` +\n        `namespaced event '${eventName}'`);\n\n      const result = this.connection[method](eventName, ...args);\n\n      return result === this.connection ? this : result;\n    };\n  });\n};\n\nmodule.exports = class Service {\n  constructor (options) {\n    this.events = options.events;\n    this.path = options.name;\n    this.connection = options.connection;\n    this.method = options.method;\n    this.timeout = options.timeout || 5000;\n\n    addEmitterMethods(this);\n  }\n\n  send (method, ...args) {\n    return new Promise((resolve, reject) => {\n      const timeoutId = setTimeout(() => reject(\n        new Timeout(`Timeout of ${this.timeout}ms exceeded calling ${method} on ${this.path}`, {\n          timeout: this.timeout,\n          method,\n          path: this.path\n        })\n      ), this.timeout);\n\n      args.unshift(method, this.path);\n      args.push(function (error, data) {\n        error = convert(error);\n        clearTimeout(timeoutId);\n\n        return error ? reject(error) : resolve(data);\n      });\n\n      debug(`Sending socket.${this.method}`, args);\n\n      this.connection[this.method](...args);\n    });\n  }\n\n  find (params = {}) {\n    return this.send('find', params.query || {});\n  }\n\n  get (id, params = {}) {\n    return this.send('get', id, params.query || {});\n  }\n\n  create (data, params = {}) {\n    return this.send('create', data, params.query || {});\n  }\n\n  update (id, data, params = {}) {\n    return this.send('update', id, data, params.query || {});\n  }\n\n  patch (id, data, params = {}) {\n    return this.send('patch', id, data, params.query || {});\n  }\n\n  remove (id, params = {}) {\n    return this.send('remove', id, params.query || {});\n  }\n\n  // `off` is actually not part of the Node event emitter spec\n  // but we are adding it since everybody is expecting it because\n  // of the emitter-component Socket.io is using\n  off (name, ...args) {\n    if (typeof this.connection.off === 'function') {\n      return this.connection.off(`${this.path} ${name}`, ...args);\n    } else if (args.length === 0) {\n      return this.removeAllListeners(name);\n    }\n\n    return this.removeListener(name, ...args);\n  }\n};\n","module.exports = require('./lib/client');\n","const Service = require('@feathersjs/transport-commons/client');\n\nfunction socketioClient (connection, options) {\n  if (!connection) {\n    throw new Error('Socket.io connection needs to be provided');\n  }\n\n  const defaultService = function (name) {\n    const events = Object.keys(this.eventMappings || {})\n      .map(method => this.eventMappings[method]);\n\n    const settings = Object.assign({}, options, {\n      events,\n      name,\n      connection,\n      method: 'emit'\n    });\n\n    return new Service(settings);\n  };\n\n  const initialize = function () {\n    if (typeof this.defaultService === 'function') {\n      throw new Error('Only one default client provider can be configured');\n    }\n\n    this.io = connection;\n    this.defaultService = defaultService;\n  };\n\n  initialize.Service = Service;\n  initialize.service = defaultService;\n\n  return initialize;\n}\n\nmodule.exports = socketioClient;\nmodule.exports.default = socketioClient;\n","module.exports = function populateHeader (options = {}) {\n  if (!options.header) {\n    throw new Error(`You need to pass 'options.header' to the populateHeader() hook.`);\n  }\n\n  return function (hook) {\n    if (hook.type !== 'before') {\n      return Promise.reject(new Error(`The 'populateHeader' hook should only be used as a 'before' hook.`));\n    }\n\n    if (hook.params.accessToken) {\n      hook.params.headers = Object.assign({}, {\n        [options.header]: options.prefix ? `${options.prefix} ${hook.params.accessToken}` : hook.params.accessToken\n      }, hook.params.headers);\n    }\n\n    return Promise.resolve(hook);\n  };\n};\n","module.exports = function populateAccessToken () {\n  return function (hook) {\n    const app = hook.app;\n\n    if (hook.type !== 'before') {\n      return Promise.reject(new Error(`The 'populateAccessToken' hook should only be used as a 'before' hook.`));\n    }\n\n    Object.assign(hook.params, { accessToken: app.get('accessToken') });\n\n    return Promise.resolve(hook);\n  };\n};\n","module.exports = function populateEntity (options = {}) {\n  if (!options.service) {\n    throw new Error(`You need to pass 'options.service' to the populateEntity() hook.`);\n  }\n\n  if (!options.field) {\n    throw new Error(`You need to pass 'options.field' to the populateEntity() hook.`);\n  }\n\n  if (!options.entity) {\n    throw new Error(`You need to pass 'options.entity' to the populateEntity() hook.`);\n  }\n\n  return function (hook) {\n    const app = hook.app;\n\n    if (hook.type !== 'after') {\n      return Promise.reject(new Error(`The 'populateEntity' hook should only be used as an 'after' hook.`));\n    }\n\n    return app.passport\n      .verifyJWT(hook.result.accessToken)\n      .then(payload => {\n        const id = payload[options.field];\n\n        if (!id) {\n          return Promise.reject(new Error(`Access token payload is missing the '${options.field}' field.`));\n        }\n\n        return app.service(options.service).get(id);\n      })\n      .then(entity => {\n        hook.result[options.entity] = entity;\n        app.set(options.entity, entity);\n\n        return Promise.resolve(hook);\n      });\n  };\n};\n","const populateHeader = require('./populate-header');\nconst populateAccessToken = require('./populate-access-token');\nconst populateEntity = require('./populate-entity');\n\nlet hooks = {\n  populateHeader,\n  populateAccessToken,\n  populateEntity\n};\n\nmodule.exports = hooks;\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","exports.Storage = class Storage {\n  constructor () {\n    this.store = {};\n  }\n\n  getItem (key) {\n    return this.store[key];\n  }\n\n  setItem (key, value) {\n    return (this.store[key] = value);\n  }\n\n  removeItem (key) {\n    delete this.store[key];\n    return this;\n  }\n};\n\nexports.payloadIsValid = function payloadIsValid (payload) {\n  return payload && (!payload.exp || payload.exp * 1000 > new Date().getTime());\n};\n\nexports.getCookie = function getCookie (name) {\n  if (typeof document !== 'undefined') {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n\n    if (parts.length === 2) {\n      return parts.pop().split(';').shift();\n    }\n  }\n\n  return null;\n};\n\nexports.clearCookie = function clearCookie (name) {\n  if (typeof document !== 'undefined') {\n    document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n  }\n\n  return null;\n};\n","const errors = require('@feathersjs/errors');\nconst decode = require('jwt-decode');\nconst Debug = require('debug');\n\nconst {\n  Storage,\n  payloadIsValid,\n  getCookie,\n  clearCookie\n} = require('./utils');\n\nconst debug = Debug('@feathersjs/authentication-client');\n\nmodule.exports = class Passport {\n  constructor (app, options) {\n    if (app.passport) {\n      throw new Error('You have already registered authentication on this client app instance. You only need to do it once.');\n    }\n\n    Object.assign(this, {\n      options,\n      app,\n      payloadIsValid,\n      getCookie,\n      clearCookie,\n      storage: app.get('storage') || this.getStorage(options.storage)\n    });\n\n    this.setJWT = this.setJWT.bind(this);\n\n    app.set('storage', this.storage);\n    this.getJWT().then(this.setJWT);\n\n    this.setupSocketListeners();\n  }\n\n  setupSocketListeners () {\n    const app = this.app;\n    const socket = app.io || app.primus;\n    const emit = app.io ? 'emit' : 'send';\n    const reconnected = app.io ? 'reconnect' : 'reconnected';\n\n    if (!socket) {\n      return;\n    }\n\n    socket.on(reconnected, () => {\n      debug('Socket reconnected');\n\n      // If socket was already authenticated then re-authenticate\n      // it with the server automatically.\n      if (socket.authenticated) {\n        const data = {\n          strategy: this.options.jwtStrategy,\n          accessToken: app.get('accessToken')\n        };\n        this.authenticateSocket(data, socket, emit)\n          .then(this.setJWT)\n          .catch(error => {\n            debug('Error re-authenticating after socket reconnect', error);\n            socket.authenticated = false;\n            app.emit('reauthentication-error', error);\n          });\n      }\n    });\n\n    const socketUpgradeHandler = () => {\n      socket.io.engine.on('upgrade', () => {\n        debug('Socket upgrading');\n\n        // If socket was already authenticated then re-authenticate\n        // it with the server automatically.\n        if (socket.authenticated) {\n          const data = {\n            strategy: this.options.jwtStrategy,\n            accessToken: app.get('accessToken')\n          };\n\n          this.authenticateSocket(data, socket, emit)\n            .then(this.setJWT)\n            .catch(error => {\n              debug('Error re-authenticating after socket upgrade', error);\n              socket.authenticated = false;\n              app.emit('reauthentication-error', error);\n            });\n        }\n      });\n    };\n\n    if (socket.io && socket.io.engine) {\n      socketUpgradeHandler();\n    } else {\n      socket.on('connect', socketUpgradeHandler);\n    }\n  }\n\n  connected () {\n    const app = this.app;\n\n    if (app.rest) {\n      return Promise.resolve();\n    }\n\n    const socket = app.io || app.primus;\n\n    if (!socket) {\n      return Promise.reject(new Error(`It looks like your client connection has not been configured.`));\n    }\n\n    if ((app.io && socket.connected) || (app.primus && socket.readyState === 3)) {\n      debug('Socket already connected');\n      return Promise.resolve(socket);\n    }\n\n    return new Promise((resolve, reject) => {\n      const connected = app.primus ? 'open' : 'connect';\n      const disconnect = app.io ? 'disconnect' : 'end';\n      const timeout = setTimeout(() => {\n        debug('Socket connection timed out');\n        reject(new Error('Socket connection timed out'));\n      }, this.options.timeout);\n\n      debug('Waiting for socket connection');\n\n      const handleDisconnect = () => {\n        debug('Socket disconnected before it could connect');\n        socket.authenticated = false;\n      };\n\n      // If disconnect happens before `connect` the promise will be rejected.\n      socket.once(disconnect, handleDisconnect);\n      socket.once(connected, () => {\n        debug('Socket connected');\n        debug(`Removing ${disconnect} listener`);\n        socket.removeListener(disconnect, handleDisconnect);\n        clearTimeout(timeout);\n        resolve(socket);\n      });\n    });\n  }\n\n  authenticate (credentials = {}) {\n    const app = this.app;\n    let getCredentials = Promise.resolve(credentials);\n\n    // If no strategy was given let's try to authenticate with a stored JWT\n    if (!credentials.strategy) {\n      if (credentials.accessToken) {\n        credentials.strategy = this.options.jwtStrategy;\n      } else {\n        getCredentials = this.getJWT().then(accessToken => {\n          if (!accessToken) {\n            return Promise.reject(new errors.NotAuthenticated(`Could not find stored JWT and no authentication strategy was given`));\n          }\n          return { strategy: this.options.jwtStrategy, accessToken };\n        });\n      }\n    }\n\n    return getCredentials.then(credentials => {\n      return this.connected(app).then(socket => {\n        if (app.rest) {\n          return app.service(this.options.path).create(credentials).then(this.setJWT);\n        }\n\n        const emit = app.io ? 'emit' : 'send';\n        return this.authenticateSocket(credentials, socket, emit).then(this.setJWT);\n      });\n    }).then(payload => {\n      app.emit('authenticated', payload);\n      return payload;\n    });\n  }\n\n  // Returns a promise that authenticates a socket\n  authenticateSocket (credentials, socket, emit) {\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        debug('authenticateSocket timed out');\n        reject(new Error('Authentication timed out'));\n      }, this.options.timeout);\n\n      debug('Attempting to authenticate socket');\n      socket[emit]('authenticate', credentials, (error, data) => {\n        if (error) {\n          return reject(error);\n        }\n\n        clearTimeout(timeout);\n        socket.authenticated = true;\n        debug('Socket authenticated!');\n\n        resolve(data);\n      });\n    });\n  }\n\n  logoutSocket (socket, emit) {\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        debug('logoutSocket timed out');\n        reject(new Error('Logout timed out'));\n      }, this.options.timeout);\n\n      socket[emit]('logout', error => {\n        clearTimeout(timeout);\n        socket.authenticated = false;\n\n        if (error) {\n          return reject(error);\n        }\n\n        resolve();\n      });\n    });\n  }\n\n  logout () {\n    const app = this.app;\n\n    app.set('accessToken', null);\n    this.clearCookie(this.options.cookie);\n\n    // remove the accessToken from localStorage\n    return Promise.resolve(app.get('storage').removeItem(this.options.storageKey)).then(() => {\n      // If using sockets de-authenticate the socket\n      if (app.io || app.primus) {\n        const method = app.io ? 'emit' : 'send';\n        const socket = app.io ? app.io : app.primus;\n\n        return this.logoutSocket(socket, method);\n      }\n    }).then(result => {\n      app.emit('logout', result);\n\n      return result;\n    });\n  }\n\n  setJWT (data) {\n    const accessToken = (data && data.accessToken) ? data.accessToken : data;\n\n    if (accessToken) {\n      this.app.set('accessToken', accessToken);\n      this.app.get('storage').setItem(this.options.storageKey, accessToken);\n    }\n\n    return Promise.resolve(data);\n  }\n\n  getJWT () {\n    const app = this.app;\n    return new Promise((resolve, reject) => {\n      const accessToken = app.get('accessToken');\n\n      if (accessToken) {\n        return resolve(accessToken);\n      }\n\n      return Promise.resolve(this.storage.getItem(this.options.storageKey))\n        .then(jwt => {\n          let token = jwt || this.getCookie(this.options.cookie);\n\n          if (token && token !== 'null' && !this.payloadIsValid(decode(token))) {\n            token = undefined;\n          }\n\n          return resolve(token);\n        })\n        .catch(reject);\n    });\n  }\n\n  // Pass a jwt token, get back a payload if it's valid.\n  verifyJWT (token) {\n    if (typeof token !== 'string') {\n      return Promise.reject(new Error('Token provided to verifyJWT is missing or not a string'));\n    }\n\n    try {\n      let payload = decode(token);\n\n      if (this.payloadIsValid(payload)) {\n        return Promise.resolve(payload);\n      }\n\n      return Promise.reject(new Error('Invalid token: expired'));\n    } catch (error) {\n      return Promise.reject(new Error('Cannot decode malformed token.'));\n    }\n  }\n\n  // Returns a storage implementation\n  getStorage (storage) {\n    if (storage) {\n      return storage;\n    }\n\n    return new Storage();\n  }\n};\n","const hooks = require('./hooks/index');\nconst Passport = require('./passport');\n\nconst defaults = {\n  header: 'Authorization',\n  cookie: 'feathers-jwt',\n  storageKey: 'feathers-jwt',\n  jwtStrategy: 'jwt',\n  path: '/authentication',\n  entity: 'user',\n  service: 'users',\n  timeout: 5000\n};\n\nfunction init (config = {}) {\n  const options = Object.assign({}, defaults, config);\n\n  return function () {\n    const app = this;\n\n    app.passport = new Passport(app, options);\n    app.authenticate = app.passport.authenticate.bind(app.passport);\n    app.logout = app.passport.logout.bind(app.passport);\n\n    // Set up hook that adds token and user to params so that\n    // it they can be accessed by client side hooks and services\n    app.mixins.push(function (service) {\n      // if (typeof service.hooks !== 'function') {\n      if (app.version < '3.0.0') {\n        throw new Error(`This version of @feathersjs/authentication-client only works with @feathersjs/feathers v3.0.0 or later.`);\n      }\n\n      service.hooks({\n        before: hooks.populateAccessToken(options)\n      });\n    });\n\n    // Set up hook that adds authorization header for REST provider\n    if (app.rest) {\n      app.mixins.push(function (service) {\n        service.hooks({\n          before: hooks.populateHeader(options)\n        });\n      });\n    }\n  };\n}\n\nmodule.exports = init;\n\nmodule.exports.default = init;\nmodule.exports.defaults = defaults;\n","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof global.Buffer === 'function' && typeof global.Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof global.ArrayBuffer === 'function';\n\nvar isView = (function () {\n  if (withNativeArrayBuffer && typeof global.ArrayBuffer.isView === 'function') {\n    return global.ArrayBuffer.isView;\n  } else {\n    return function (obj) { return obj.buffer instanceof global.ArrayBuffer; };\n  }\n})();\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && global.Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof global.ArrayBuffer || isView(obj)));\n}\n","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw \"SecurityError: Request method not allowed\";\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw \"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\";\n      return false;\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw \"INVALID_STATE_ERR: send flag is true\";\n      return false;\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw \"INVALID_STATE_ERR: connection must be opened before send() is called\";\n    }\n\n    if (sendFlag) {\n      throw \"INVALID_STATE_ERR: send has already been called\";\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw \"Protocol not supported.\";\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw \"XMLHttpRequest: Only GET method is supported\";\n      }\n\n      if (settings.async) {\n        fs.readFile(url.pathname, 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(url.pathname, 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + data.replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   */\n  this.handleError = function(error) {\n    this.status = 503;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = true;\n\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      self[\"on\" + event]();\n    }\n    if (event in listeners) {\n      for (var i = 0, len = listeners[event].length; i < len; i++) {\n        listeners[event][i].call(self);\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if (self.readyState !== state) {\n      self.readyState = state;\n\n      if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n        self.dispatchEvent(\"readystatechange\");\n      }\n\n      if (self.readyState === self.DONE && !errorFlag) {\n        self.dispatchEvent(\"load\");\n        // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n        self.dispatchEvent(\"loadend\");\n      }\n    }\n  };\n};\n","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, it’s not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","/**\n * Module dependencies.\n */\n\nvar utf8 = require('./utf8');\nvar hasBinary = require('has-binary2');\nvar after = require('after');\nvar keys = require('./keys');\n\n/**\n * Current protocol version.\n */\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  if (Buffer.isBuffer(packet.data)) {\n    return encodeBuffer(packet, supportsBinary, callback);\n  } else if (packet.data && (packet.data.buffer || packet.data) instanceof ArrayBuffer) {\n    return encodeBuffer({ type: packet.type, data: arrayBufferToBuffer(packet.data) }, supportsBinary, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n};\n\n/**\n * Encode Buffer data\n */\n\nfunction encodeBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var typeBuffer = new Buffer(1);\n  typeBuffer[0] = packets[packet.type];\n  return callback(Buffer.concat([typeBuffer, data]));\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback){\n  var data = Buffer.isBuffer(packet.data) ? packet.data : arrayBufferToBuffer(packet.data);\n  var message = 'b' + packets[packet.type];\n  message += data.toString('base64');\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Data also available as an ArrayBuffer if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n\n  var type;\n\n  // String data\n  if (typeof data === 'string') {\n\n    type = data.charAt(0);\n\n    if (type === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  // Binary data\n  if (binaryType === 'arraybuffer') {\n    // wrap Buffer/ArrayBuffer data into an Uint8Array\n    var intArray = new Uint8Array(data);\n    type = intArray[0];\n    return { type: packetslist[type], data: intArray.buffer.slice(1) };\n  }\n\n  if (data instanceof ArrayBuffer) {\n    data = arrayBufferToBuffer(data);\n  }\n  type = data[0];\n  return { type: packetslist[type], data: data.slice(1) };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string.\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  var data = new Buffer(msg.substr(1), 'base64');\n  if (binaryType === 'arraybuffer') {\n    var abv = new Uint8Array(data.length);\n    for (var i = 0; i < abv.length; i++){\n      abv[i] = data[i];\n    }\n    data = abv.buffer;\n  }\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  if (supportsBinary && hasBinary(packets)) {\n    return exports.encodePayloadAsBinary(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\nfunction setLengthHeader(message) {\n  return message.length + ':' + message;\n}\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  for (var i = 0; i < ary.length; i++) {\n    each(ary[i], function(error, msg) {\n      result[i] = msg;\n      next(error, result);\n    });\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg, packet;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var more = callback(packet, i + n, l);\n      if (false === more) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n *\n * Converts a buffer to a utf8.js encoded string\n *\n * @api private\n */\n\nfunction bufferToString(buffer) {\n  var str = '';\n  for (var i = 0, l = buffer.length; i < l; i++) {\n    str += String.fromCharCode(buffer[i]);\n  }\n  return str;\n}\n\n/**\n *\n * Converts a utf8.js encoded string to a buffer\n *\n * @api private\n */\n\nfunction stringToBuffer(string) {\n  var buf = new Buffer(string.length);\n  for (var i = 0, l = string.length; i < l; i++) {\n    buf.writeUInt8(string.charCodeAt(i), i);\n  }\n  return buf;\n}\n\n/**\n *\n * Converts an ArrayBuffer to a Buffer\n *\n * @api private\n */\n\nfunction arrayBufferToBuffer(data) {\n  // data is either an ArrayBuffer or ArrayBufferView.\n  var array = new Uint8Array(data.buffer || data);\n  var length = data.byteLength || data.length;\n  var offset = data.byteOffset || 0;\n  var buffer = new Buffer(length);\n\n  for (var i = 0; i < length; i++) {\n    buffer[i] = array[offset + i];\n  }\n  return buffer;\n}\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {Buffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsBinary = function (packets, callback) {\n  if (!packets.length) {\n    return callback(new Buffer(0));\n  }\n\n  map(packets, encodeOneBinaryPacket, function(err, results) {\n    return callback(Buffer.concat(results));\n  });\n};\n\nfunction encodeOneBinaryPacket(p, doneCallback) {\n\n  function onBinaryPacketEncode(packet) {\n\n    var encodingLength = '' + packet.length;\n    var sizeBuffer;\n\n    if (typeof packet === 'string') {\n      sizeBuffer = new Buffer(encodingLength.length + 2);\n      sizeBuffer[0] = 0; // is a string (not true binary = 0)\n      for (var i = 0; i < encodingLength.length; i++) {\n        sizeBuffer[i + 1] = parseInt(encodingLength[i], 10);\n      }\n      sizeBuffer[sizeBuffer.length - 1] = 255;\n      return doneCallback(null, Buffer.concat([sizeBuffer, stringToBuffer(packet)]));\n    }\n\n    sizeBuffer = new Buffer(encodingLength.length + 2);\n    sizeBuffer[0] = 1; // is binary (true binary = 1)\n    for (var i = 0; i < encodingLength.length; i++) {\n      sizeBuffer[i + 1] = parseInt(encodingLength[i], 10);\n    }\n    sizeBuffer[sizeBuffer.length - 1] = 255;\n\n    doneCallback(null, Buffer.concat([sizeBuffer, packet]));\n  }\n\n  exports.encodePacket(p, true, true, onBinaryPacketEncode);\n\n}\n\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n\n * @param {Buffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n  var i;\n\n  while (bufferTail.length > 0) {\n    var strLen = '';\n    var isString = bufferTail[0] === 0;\n    for (i = 1; ; i++) {\n      if (bufferTail[i] === 255)  break;\n      // 310 = char length of Number.MAX_VALUE\n      if (strLen.length > 310) {\n        return callback(err, 0, 1);\n      }\n      strLen += '' + bufferTail[i];\n    }\n    bufferTail = bufferTail.slice(strLen.length + 1);\n\n    var msgLength = parseInt(strLen, 10);\n\n    var msg = bufferTail.slice(1, msgLength + 1);\n    if (isString) msg = bufferToString(msg);\n    buffers.push(msg);\n    bufferTail = bufferTail.slice(msgLength + 1);\n  }\n\n  var total = buffers.length;\n  for (i = 0; i < total; i++) {\n    var buffer = buffers[i];\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  }\n};\n","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? (protocols ? new WebSocket(uri, protocols) : new WebSocket(uri)) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0)\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\nvar hasBin = require('has-binary2');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","import feathers from '@feathersjs/feathers';\nimport socketio from '@feathersjs/socketio-client';\nimport authentication from '@feathersjs/authentication-client';\nimport io from 'socket.io-client';\n\nfunction createClient(url, storage) {\n  const socket = io(url);\n  // Initialize our Feathers client application through Socket.io\n  // with hooks and authentication.\n  const client = feathers();\n\n  client.configure(socketio(socket));\n  client.configure(authentication({ storage }));\n\n  return client;\n}\n\nexport default createClient;\n"],"names":["exports","name","replace","_","each","obj","callback","forEach","isObject","Object","keys","key","some","value","map","val","every","values","isMatch","item","isEmpty","length","Array","isArray","isObjectOrArray","extend","args","assign","omit","result","pick","source","reduce","undefined","merge","target","params","otherFields","fields","query","$select","push","convert","then","path","app","get","bind","env","process","host","HOST_NAME","protocol","PORT","stripSlashes","Symbol","a","b","i","comp","Math","min","compare","compareNSB","compareStrings","compareArrays","Date","getTime","aKeys","sort","bKeys","$sort","criteria","direction","criterion","createSymbol","require","SKIP","method","data","hook","defineProperty","this","service","services","find","id","defaultMakeArguments","all","hookObject","type","appLast","appHooks","__hooks","serviceHooks","concat","hooks","initialHookObject","updateCurrentHook","current","isHookObject","Error","promise","fn","Promise","resolve","reject","error","catch","methods","types","allHooks","convertHookData","indexOf","myHooks","apply","parse","number","abs","parseInt","assignFilters","object","filters","options","converter","FILTERS","convertSort","$limit","limit","paginate","default","lower","upper","max","Number","MAX_VALUE","getLimit","$skip","OPERATORS","module","additionalFilters","operators","additionalOperators","cleanQuery","utils","filterQuery","HAS_SYMBOLS","getOwnPropertySymbols","create","instance","init","__init","arguments","mixin","prop","self","fnTest","_super","getPrototypeOf","prototype","descriptors","proto","processProperty","descriptor","getOwnPropertyDescriptor","getOwnPropertyNames","processDescriptor","test","old","isFunction","newMethod","tmp","ret","makeSuper","proxy","slice","call","unshift","s","m","h","d","w","y","isNaN","long","fmtLong","fmtShort","JSON","stringify","str","String","match","exec","n","parseFloat","toLowerCase","ms","msAbs","round","plural","isPlural","setup","selectColor","namespace","hash","charCodeAt","createDebug","colors","prevTime","debug","enabled","curr","diff","prev","coerce","index","format","formatter","formatters","splice","formatArgs","log","useColors","color","destroy","instances","delimiter","toNamespace","regexp","toString","substring","stack","message","disable","namespaces","names","skips","join","enable","save","split","len","RegExp","substr","humanize","load","console","c","lastC","storage","setItem","removeItem","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","j","v","flag","argv","prefix","startsWith","pos","terminatorPos","forceColor","translateLevel","level","hasBasic","has256","has16m","supportsColor","stream","hasFlag","isTTY","platform","osRelease","os","release","versions","node","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","version","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","getSupportLevel","FORCE_COLOR","stdout","stderr","inspectOpts","write","util","colorCode","hideDate","toISOString","getDate","Boolean","tty","isatty","fd","filter","k","toUpperCase","o","inspect","O","browser","EventEmitter","eventHook","eventName","eventMappings","isHookEvent","_hookEvents","element","emit","eventMixin","_serviceEvents","isEmitter","on","defineProperties","events","event","alreadyEmits","update","remove","patch","finally","Proto","mixins","assignArguments","context","parameters","argsObject","validate","includes","isPromise","createHookObject","getHooks","processHooks","enableHooks","ACTIVATE_HOOKS","withHooks","original","_hooks","hookTypes","returnHook","pop","baseHooks","before","makeArguments","hookChain","after","errorHookObject","hookMixin","methodName","methodNames","from","Uberproto","application","providers","_setup","settings","configure","set","disabled","location","defaultService","use","isSubApp","isService","subApp","subPath","protoService","isPrototypeOf","provider","_isSetup","activateHooks","createApplication","Application","FeathersError","msg","code","className","errors","newData","captureStackTrace","inheritsFrom","Child","Parent","constructor","BadRequest","NotAuthenticated","PaymentError","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","Timeout","Conflict","LengthRequired","Unprocessable","TooManyRequests","GeneralError","NotImplemented","BadGateway","Unavailable","namespacedEmitterMethods","otherEmitterMethods","addEmitterMethods","connection","timeout","send","timeoutId","setTimeout","clearTimeout","off","removeAllListeners","removeListener","socketioClient","Service","initialize","io","header","accessToken","headers","field","entity","passport","verifyJWT","payload","populateHeader","populateAccessToken","populateEntity","chars","InvalidCharacterError","polyfill","input","bs","buffer","bc","idx","output","charAt","fromCharCode","atob","b64DecodeUnicode","decodeURIComponent","p","err","InvalidTokenError","token","base64_url_decode","e","store","exp","parts","cookie","shift","Storage","payloadIsValid","getCookie","clearCookie","Debug","getStorage","setJWT","getJWT","setupSocketListeners","socket","primus","reconnected","authenticated","strategy","jwtStrategy","authenticateSocket","socketUpgradeHandler","engine","connected","rest","readyState","disconnect","handleDisconnect","once","authenticate","credentials","getCredentials","logoutSocket","logout","storageKey","jwt","decode","defaults","config","Passport","re","src","uri","authority","ipv6uri","floor","ceil","Function","chrome","local","trim","url","loc","global","parseuri","port","href","Emitter","addEventListener","_callbacks","removeEventListener","cb","callbacks","listeners","hasListeners","arr","isBuf","withNativeBuffer","Buffer","isBuffer","withNativeArrayBuffer","ArrayBuffer","isView","withNativeBlob","Blob","withNativeFile","File","packet","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","num","_reconstructPacket","pendingBlobs","bloblessData","_removeBlobs","curKey","containingObject","fileReader","FileReader","onload","readAsArrayBuffer","Encoder","Decoder","ERROR_PACKET","ERROR","encodeAsString","BINARY_EVENT","BINARY_ACK","nsp","tryStringify","reconstructor","BinaryReconstructor","reconPack","encode","binary","removeBlobs","deconstruction","deconstructPacket","encodeAsBinary","add","buf","next","tryParse","isPayloadValid","decodeString","base64","takeBinaryData","finishedReconstruction","binData","reconstructPacket","spawn","XMLHttpRequest","opts","request","response","http","https","disableHeaderCheck","defaultHeaders","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","open","async","user","password","abort","isAllowedHttpMethod","setState","setDisableHeaderCheck","state","setRequestHeader","isAllowedHttpHeader","warn","getResponseHeader","getAllResponseHeaders","getRequestHeader","ssl","Url","hostname","fs","readFile","pathname","handleError","readFileSync","search","authBuf","byteLength","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","statusCode","newOptions","errorHandler","end","setEncoding","chunk","contentFile","pid","syncFile","writeFileSync","execString","syncProc","existsSync","stdin","unlinkSync","errorObj","ev","byteArray","byteCount","byteIndex","stringFromCharCode","ucs2decode","string","extra","counter","ucs2encode","array","checkScalarValue","codePoint","strict","createByte","encodeCodePoint","symbol","utf8encode","codePoints","byteString","readContinuationByte","continuationByte","decodeSymbol","byte1","utf8decode","hasBinary","l","toJSON","hasOwnProperty","count","err_cb","bail","noop","has","packets","close","ping","pong","upgrade","packetslist","encodeBuffer","supportsBinary","encodeBase64Packet","typeBuffer","ary","done","bufferToString","arrayBufferToBuffer","Uint8Array","offset","byteOffset","encodeOneBinaryPacket","doneCallback","encodePacket","sizeBuffer","encodingLength","writeUInt8","stringToBuffer","encoded","utf8","binaryType","decodeBase64Packet","tryDecode","intArray","abv","encodePayloadAsBinary","setLengthHeader","results","decodePayloadAsBinary","chr","decodePacket","bufferTail","strLen","isString","msgLength","total","Transport","secure","timestampParam","timestampRequests","enablesXDR","forceNode","extraHeaders","localAddress","onError","desc","description","doOpen","doClose","onClose","onOpen","writable","onData","parser","onPacket","encodeURIComponent","qs","qry","pairs","pair","alphabet","seed","decoded","yeast","now","Polling","hasXHR2","xdomain","responseType","forceBase64","inherit","poll","pause","onPause","polling","doPoll","decodePayload","callbackfn","encodePayload","doWrite","schema","sid","b64","parseqs","XHR","Request","empty","requestTimeout","isSSL","xd","xs","isBinary","unloadHandler","requests","req","sendXhr","pollXhr","xscheme","xhr","withCredentials","hasXDR","onLoad","onerror","contentType","requestsCount","onSuccess","cleanup","fromError","XDomainRequest","attachEvent","JSONPPolling","rNewline","rEscapedNewline","___eio","script","parentNode","removeChild","form","iframe","createElement","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","area","iframeId","position","top","left","setAttribute","complete","initIframe","html","action","submit","NodeWebSocket","BrowserWebSocket","WebSocket","MozWebSocket","WS","perMessageDeflate","usingBrowserWebSocket","protocols","check","ws","supports","addEventListeners","onopen","onclose","onmessage","compress","threshold","websocket","jsonp","forceJSONP","JSONP","Socket","transports","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","onlyBinaryUpgrades","freeGlobal","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","clone","priorWebsocketSuccess","createTransport","EIO","transport","setTransport","onDrain","probe","failed","onTransportOpen","upgradeLosesBinary","upgrading","flush","freezeTransport","onTransportClose","onupgrade","to","onHandshake","setPing","filterUpgrades","onHeartbeat","sendPacket","waitForUpgrade","cleanupAndClose","reason","filteredUpgrades","toArray","list","connect","connect_error","connect_timeout","connecting","reconnect","reconnect_attempt","reconnect_failed","reconnect_error","reconnecting","json","ids","acks","receiveBuffer","sendBuffer","disconnected","flags","autoConnect","subEvents","subs","hasBin","EVENT","CONNECT","onpacket","sameNamespace","rootNamespaceError","onconnect","onevent","ACK","onack","DISCONNECT","ondisconnect","ack","sent","emitBuffered","Backoff","factor","jitter","attempts","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","lastPing","encoding","packetBuffer","_parser","encoder","decoder","emitAll","updateSocketIds","generateId","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","eio","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","ondecoded","onConnecting","encodedPackets","processPacketQueue","subsLength","delay","onreconnect","attempt","lookup","cache","parsed","forceNew","multiplex","createClient","client","feathers","socketio","authentication"],"mappings":"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"}