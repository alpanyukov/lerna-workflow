"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var os=_interopDefault(require("os")),events=_interopDefault(require("events")),tty=_interopDefault(require("tty")),util=_interopDefault(require("util")),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var utils=createCommonjsModule(function(e,t){t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")};const o=t._={each(e,t){e&&"function"==typeof e.forEach?e.forEach(t):o.isObject(e)&&Object.keys(e).forEach(o=>t(e[o],o))},some:(e,t)=>Object.keys(e).map(t=>[e[t],t]).some(([e,o])=>t(e,o)),every:(e,t)=>Object.keys(e).map(t=>[e[t],t]).every(([e,o])=>t(e,o)),keys:e=>Object.keys(e),values:e=>o.keys(e).map(t=>e[t]),isMatch:(e,t)=>o.keys(t).every(o=>e[o]===t[o]),isEmpty:e=>0===o.keys(e).length,isObject:e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,isObjectOrArray:e=>"object"==typeof e&&null!==e,extend:(...e)=>Object.assign(...e),omit(e,...t){const r=o.extend({},e);return t.forEach(e=>delete r[e]),r},pick:(e,...t)=>t.reduce((t,o)=>(void 0!==e[o]&&(t[o]=e[o]),t),{}),merge:(e,t)=>(o.isObject(e)&&o.isObject(t)&&Object.keys(t).forEach(r=>{o.isObject(t[r])?(e[r]||Object.assign(e,{[r]:{}}),o.merge(e[r],t[r])):Object.assign(e,{[r]:t[r]})}),e)};t.select=function(e,...t){const r=e&&e.query&&e.query.$select;Array.isArray(r)&&t.length&&r.push(...t);const n=e=>Array.isArray(r)?o.pick(e,...r):e;return e=>Array.isArray(e)?e.map(n):n(e)},t.isPromise=function(e){return o.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(e,o={}){const r="function"==typeof o.get?o.get.bind(o):()=>{},n=r("env")||production,s=r("host")||process.env.HOST_NAME||"localhost",i="development"===n||"test"===n||void 0===n?"http":"https",c=r("port")||process.env.PORT||3030;return e=e||"",`${i}://${s}${"development"===n||"test"===n||void 0===n?`:${c}`:""}/${t.stripSlashes(e)}`},t.createSymbol=(e=>"undefined"!=typeof Symbol?Symbol(e):e),t.compareNSB=function(e,t){return e<t?-1:e>t?1:0},t.compareArrays=function(e,o){var r,n;for(r=0;r<Math.min(e.length,o.length);r+=1)if(0!==(n=t.compare(e[r],o[r])))return n;return t.compareNSB(e.length,o.length)},t.compare=function(e,o,r=t.compareNSB){const{compareNSB:n,compare:s,compareArrays:i}=t;if(void 0===e)return void 0===o?0:-1;if(void 0===o)return void 0===e?0:1;if(null===e)return null===o?0:-1;if(null===o)return null===e?0:1;if("number"==typeof e)return"number"==typeof o?n(e,o):-1;if("number"==typeof o)return"number"==typeof e?n(e,o):1;if("string"==typeof e)return"string"==typeof o?r(e,o):-1;if("string"==typeof o)return"string"==typeof e?r(e,o):1;if("boolean"==typeof e)return"boolean"==typeof o?n(e,o):-1;if("boolean"==typeof o)return"boolean"==typeof e?n(e,o):1;if(e instanceof Date)return o instanceof Date?n(e.getTime(),o.getTime()):-1;if(o instanceof Date)return e instanceof Date?n(e.getTime(),o.getTime()):1;if(Array.isArray(e))return Array.isArray(o)?i(e,o):-1;if(Array.isArray(o))return Array.isArray(e)?i(e,o):1;const c=Object.keys(e).sort(),a=Object.keys(o).sort();let u=0;for(let t=0;t<Math.min(c.length,a.length);t+=1)if(0!==(u=s(e[c[t]],o[a[t]])))return u;return n(c.length,a.length)},t.sorter=function(e){const o=Object.keys(e).map(t=>{return{key:t,direction:e[t]}});return function(e,r){let n;for(let s=0;s<o.length;s++){const i=o[s];if(0!==(n=i.direction*t.compare(e[i.key],r[i.key])))return n}return 0}}}),utils_1=utils.stripSlashes,utils_2=utils._,utils_3=utils.select,utils_4=utils.isPromise,utils_5=utils.makeUrl,utils_6=utils.createSymbol,utils_7=utils.compareNSB,utils_8=utils.compareArrays,utils_9=utils.compare,utils_10=utils.sorter,hooks=createCommonjsModule(function(e,t){const{_:{each:o,pick:r},createSymbol:n}=utils,s=n("__feathersSkipHooks");t.SKIP=s,t.ACTIVATE_HOOKS=n("__feathersActivateHooks"),t.createHookObject=function(e,t={}){const o={};return Object.defineProperty(o,"toJSON",{value(){return r(this,"type","method","path","params","id","data","result","error")}}),Object.assign(o,t,{method:e,get path(){const{app:e,service:o}=t;return o&&e&&e.services?Object.keys(e.services).find(t=>e.services[t]===o):null}})},t.defaultMakeArguments=function(e){const t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t},t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return t.defaultMakeArguments(e)},t.convertHookData=function(e){let t={};return Array.isArray(e)?t={all:e}:"object"!=typeof e?t={all:[e]}:o(e,function(e,o){t[o]=Array.isArray(e)?e:[e]}),t},t.isHookObject=function(e){return"object"==typeof e&&"string"==typeof e.method&&"string"==typeof e.type},t.getHooks=function(e,t,o,r,n=!1){const s=e.__hooks[o][r]||[],i=t.__hooks[o][r]||[];return n?i.concat(s):s.concat(i)},t.processHooks=function(e,o){let r=o,n=e=>{if(e){if(e===s)return s;if(!t.isHookObject(e))throw new Error(`${r.type} hook for '${r.method}' method returned invalid hook object`);r=e}return r};return e.reduce((e,t)=>{const o=t.bind(this);return(e=2===o.length?e.then(e=>e===s?s:new Promise((t,r)=>{o(e,(e,o)=>e?r(e):t(o))})):e.then(e=>e===s?s:o(e))).then(n)},Promise.resolve(r)).then(()=>r).catch(e=>{throw e.hook=r,e})},t.enableHooks=function(e,r,n){if("function"==typeof e.hooks)return e;const s={};return n.forEach(e=>{s[e]={}}),Object.defineProperty(e,"__hooks",{value:s}),Object.assign(e,{hooks(e){return o(e,(e,n)=>{if(!this.__hooks[n])throw new Error(`'${n}' is not a valid hook type`);const s=t.convertHookData(e);o(s,(e,t)=>{if("all"!==t&&-1===r.indexOf(t))throw new Error(`'${t}' is not a valid hook method`)}),r.forEach(e=>{const t=this.__hooks[n][e]||(this.__hooks[n][e]=[]);s.all&&t.push.apply(t,s.all),s[e]&&t.push.apply(t,s[e])})}),this}})}}),hooks_1=hooks.SKIP,hooks_2=hooks.ACTIVATE_HOOKS,hooks_3=hooks.createHookObject,hooks_4=hooks.defaultMakeArguments,hooks_5=hooks.makeArguments,hooks_6=hooks.convertHookData,hooks_7=hooks.isHookObject,hooks_8=hooks.getHooks,hooks_9=hooks.processHooks,hooks_10=hooks.enableHooks,filterQuery=createCommonjsModule(function(e){const{_:t}=utils;function o(e){if(void 0!==e)return Math.abs(parseInt(e,10))}function r(e,o,r,n){return Array.isArray(r)?t.each(r,t=>{e[t]=o[t]}):t.each(r,(t,r)=>{e[r]=t(o[r],n)}),e}const n={$sort:e=>(function(e){return"object"!=typeof e||Array.isArray(e)?e:Object.keys(e).reduce((t,o)=>(t[o]="object"==typeof e[o]?e[o]:parseInt(e[o],10),t),{})})(e),$limit:(e,t)=>(function(e,t){if(t&&t.default){const o="number"==typeof e?e:t.default,r="number"==typeof t.max?t.max:Number.MAX_VALUE;return Math.min(o,r)}return e})(o(e),t.paginate),$skip:e=>o(e),$select:e=>e},s=["$in","$nin","$lt","$lte","$gt","$gte","$ne","$or"];e.exports=function(e,o={}){const{filters:i={},operators:c=[]}=o,a={};return a.filters=r({},e,n,o),a.filters=r(a.filters,e,i,o),a.query=function e(o,r){if(t.isObject(o)){const n={};return t.each(o,(t,o)=>{"$"===o[0]&&-1===r.indexOf(o)||(n[o]=e(t,r))}),n}return o}(e,s.concat(c)),a},Object.assign(e.exports,{OPERATORS:s,FILTERS:n})}),commons=Object.assign({},utils,{hooks:hooks,filterQuery:filterQuery}),proto=createCommonjsModule(function(e,t){var o;e.exports=(o="function"==typeof Object.getOwnPropertySymbols,{create:function(){var e=Object.create(this),t="string"==typeof e.__init?e.__init:"init";return"function"==typeof e[t]&&e[t].apply(e,arguments),e},mixin:function(e,t){var r=t||this,n=/\b_super\b/,s=Object.getPrototypeOf(r)||r.prototype,i={},c=e,a=function(e){var t=Object.getOwnPropertyDescriptor(c,e);!i[e]&&t&&(i[e]=t)};do{Object.getOwnPropertyNames(c).forEach(a),o&&Object.getOwnPropertySymbols(c).forEach(a)}while((c=Object.getPrototypeOf(c))&&Object.getPrototypeOf(c));var u=function(e){var t=i[e];"function"==typeof t.value&&n.test(t.value)&&(t.value=function(e,t,r,n){var s="function"==typeof t,i=function(){var o=this._super;this._super=s?t:e[r];var i=n.apply(this,arguments);return this._super=o,i};return s&&o&&Object.getOwnPropertySymbols(t).forEach(function(e){i[e]=t[e]}),i}(s,r[e],e,t.value)),Object.defineProperty(r,e,t)};return Object.keys(i).forEach(u),o&&Object.getOwnPropertySymbols(i).forEach(u),r},extend:function(e,t){return this.mixin(e,Object.create(t||this))},proxy:function(e){var t=this[e],o=Array.prototype.slice.call(arguments,1);return o.unshift(this),t.bind.apply(t,o)}})}),s=1e3,m=60*s,h=60*m,d=24*h,w=7*d,y=365.25*d,ms=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return parse(e);if("number"===o&&!1===isNaN(e))return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*y;case"weeks":case"week":case"w":return o*w;case"days":case"day":case"d":return o*d;case"hours":case"hour":case"hrs":case"hr":case"h":return o*h;case"minutes":case"minute":case"mins":case"min":case"m":return o*m;case"seconds":case"second":case"secs":case"sec":case"s":return o*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function fmtShort(e){var t=Math.abs(e);return t>=d?Math.round(e/d)+"d":t>=h?Math.round(e/h)+"h":t>=m?Math.round(e/m)+"m":t>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){var t=Math.abs(e);return t>=d?plural(e,t,d,"day"):t>=h?plural(e,t,h,"hour"):t>=m?plural(e,t,m,"minute"):t>=s?plural(e,t,s,"second"):e+" ms"}function plural(e,t,o,r){var n=t>=1.5*o;return Math.round(e/o)+" "+r+(n?"s":"")}function setup(e){function t(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let s;function i(...e){if(!i.enabled)return;const t=i,r=Number(new Date),n=r-(s||r);t.diff=n,t.prev=s,t.curr=r,s=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return r;c++;const s=o.formatters[n];if("function"==typeof s){const o=e[c];r=s.call(t,o),e.splice(c,1),c--}return r}),o.formatArgs.call(t,e),(t.log||o.log).apply(t,e)}return i.namespace=e,i.enabled=o.enabled(e),i.useColors=o.useColors(),i.color=t(e),i.destroy=r,i.extend=n,"function"==typeof o.init&&o.init(i),o.instances.push(i),i}function r(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function n(e,t){return o(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){const e=[...o.names.map(s),...o.skips.map(s).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=ms,Object.keys(e).forEach(t=>{o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}var common=setup,browser=createCommonjsModule(function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),t.splice(n,0,o)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=common(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),browser_1=browser.log,browser_2=browser.formatArgs,browser_3=browser.save,browser_4=browser.load,browser_5=browser.useColors,browser_6=browser.storage,browser_7=browser.colors,hasFlag=(e,t)=>{t=t||process.argv;const o=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(o+e),n=t.indexOf("--");return-1!==r&&(-1===n||r<n)};const env=process.env;let forceColor;function translateLevel(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function supportsColor(e){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(e&&!e.isTTY&&!0!==forceColor)return 0;const t=forceColor?1:0;if("win32"===process.platform){const e=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in env)||"codeship"===env.CI_NAME?1:t;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const e=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:(env.TERM,t)}function getSupportLevel(e){return translateLevel(supportsColor(e))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10));var supportsColor_1={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)},node=createCommonjsModule(function(e,t){t.init=function(e){e.inspectOpts={};const o=Object.keys(t.inspectOpts);for(let r=0;r<o.length;r++)e.inspectOpts[o[r]]=t.inspectOpts[o[r]]},t.log=function(...e){return process.stderr.write(util.format(...e)+"\n")},t.formatArgs=function(o){const{namespace:r,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${r} [0m`;o[0]=s+o[0].split("\n").join("\n"+s),o.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else o[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+o[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):tty.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=supportsColor_1;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const o=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[o]=r,e},{}),e.exports=common(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts)}}),node_1=node.init,node_2=node.log,node_3=node.formatArgs,node_4=node.save,node_5=node.load,node_6=node.useColors,node_7=node.colors,node_8=node.inspectOpts,src=createCommonjsModule(function(e){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=browser:e.exports=node}),events$1=createCommonjsModule(function(e,t){const{EventEmitter:o}=events,r=t.eventHook=function(){return function(e){const{app:t,service:o}=e,r=t.eventMappings[e.method],n=o._hookEvents&&-1!==o._hookEvents.indexOf(r);if(r&&n&&"error"!==e.type){(Array.isArray(e.result)?e.result:[e.result]).forEach(t=>o.emit(r,t,e))}}},n=t.eventMixin=function(e){if(e._serviceEvents)return;const t=this,r="function"==typeof e.on&&"function"==typeof e.emit;"function"!=typeof e.mixin||r||e.mixin(o.prototype),Object.defineProperties(e,{_serviceEvents:{value:Array.isArray(e.events)?e.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(t.eventMappings).forEach(o=>{const r=t.eventMappings[o],n=-1!==e._serviceEvents.indexOf(r);"function"!=typeof e[o]||n||(e._serviceEvents.push(r),e._hookEvents.push(r))})};e.exports=function(){return function(e){Object.assign(e,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),e.hooks({finally:r()}),proto.mixin(o.prototype,e),e.mixins.push(n)}}}),events_1=events$1.eventHook,events_2=events$1.eventMixin;const{_:_}=commons,assignArguments=e=>{const{service:t,method:o}=e,r=t.methods[o],n=e.arguments.reduce((e,t,o)=>(e[r[o]]=t,e),{});return n.params||(n.params={}),Object.assign(e,n),e},validate=e=>{const{service:t,method:o}=e,r=t.methods[o];if(r.includes("id")&&void 0===e.id)throw new Error(`An id must be provided to the '${o}' method`);if(r.includes("data")&&!_.isObjectOrArray(e.data))throw new Error(`A data object must be provided to the '${o}' method`);return e};var base=[assignArguments,validate],hooks_1$1=createCommonjsModule(function(e,t){const{hooks:o,isPromise:r,_:n}=commons,{createHookObject:s,getHooks:i,processHooks:c,enableHooks:a,ACTIVATE_HOOKS:u}=o,l=function({app:e,service:t,method:o,original:i}){return(a={})=>{const u=e.hookTypes.reduce((e,t)=>{const o=a[t]||[];return e[t]=Array.isArray(o)?o:[o],e},{});return function(...a){const l=!0===a[a.length-1]&&a.pop(),p=i||t[o].bind(t),d=s(o,{type:"before",arguments:a,service:t,app:e});return c.call(t,base.concat(u.before),d).then(e=>{if(void 0!==e.result)return e;const n=p(...((e,t,o)=>e.methods[t].reduce((e,t)=>[...e,o[t]],[]))(t,o,e));if(!r(n))throw new Error(`Service method '${e.method}' for '${e.path}' service must return a promise`);return n.then(t=>(e.result=t,e))}).then(e=>Object.assign({},e,{type:"after"})).then(e=>{const o=u.after.concat(u.finally);return c.call(t,o,e)}).then(e=>l?e:e.result).catch(e=>{const o=u.error.concat(u.finally),r=n.omit(Object.assign({},e.hook,d,{type:"error",original:e.hook,error:e}),"result");return c.call(t,o,r).catch(e=>(r.error=e,r)).then(e=>l?void 0!==e.result?e:Promise.reject(e):void 0!==e.result?e.result:Promise.reject(e.error))})}}},p=t.hookMixin=function(e){if("function"==typeof e.hooks)return;e.methods=Object.getOwnPropertyNames(e).filter(t=>"function"==typeof e[t]&&e[t][u]).reduce((t,o)=>(t[o]=e[o][u],t),e.methods||{}),Object.assign(e.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]});const t=this,o=Object.keys(e.methods),r=o.reduce((o,r)=>"function"!=typeof e[r]?o:(o[r]=function(){const e=Array.from(arguments),o=this._super.bind(this);return l({app:t,service:this,method:r,original:o})({before:i(t,this,"before",r),after:i(t,this,"after",r,!0),error:i(t,this,"error",r,!0),finally:i(t,this,"finally",r,!0)})(...e)},o),{});a(e,o,t.hookTypes),e.mixin(r)};e.exports=function(){return function(e){Object.assign(e,{hookTypes:["before","after","error","finally"]}),a(e,e.methods,e.hookTypes),e.mixins.push(p)}},e.exports.withHooks=l,e.exports.ACTIVATE_HOOKS=u,e.exports.activateHooks=function(e){return t=>(Object.defineProperty(t,u,{value:e}),t)}}),hooks_2$1=hooks_1$1.hookMixin,hooks_3$1=hooks_1$1.withHooks,hooks_4$1=hooks_1$1.ACTIVATE_HOOKS,hooks_5$1=hooks_1$1.activateHooks,version="3.2.3";const debug=src("feathers:application"),{stripSlashes:stripSlashes}=commons,Proto=proto.extend({create:null}),application={init(){Object.assign(this,{version:version,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(hooks_1$1()),this.configure(events$1())},get(e){return this.settings[e]},set(e,t){return this.settings[e]=t,this},disable(e){return this.settings[e]=!1,this},disabled(e){return!this.settings[e]},enable(e){return this.settings[e]=!0,this},enabled(e){return!!this.settings[e]},configure(e){return e.call(this,this),this},service(e,t){if(void 0!==t)throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");const o=stripSlashes(e),r=this.services[o];return void 0===r&&"function"==typeof this.defaultService?this.use(`/${o}`,this.defaultService(o)).service(o):r},use(e,t,o={}){if("string"!=typeof e||""===stripSlashes(e))throw new Error(`'${e}' is not a valid service path.`);const r=stripSlashes(e),n="function"==typeof t.service&&t.services,s=this.methods.concat("setup").some(e=>t&&"function"==typeof t[e]);if(n){const e=t;return Object.keys(e.services).forEach(t=>this.use(`${r}/${t}`,e.service(t))),this}if(!s)throw new Error(`Invalid service object passed for path \`${r}\``);const i=Proto.isPrototypeOf(t)?t:Proto.extend(t);return debug(`Registering new service at \`${r}\``),this.mixins.forEach(e=>e.call(this,i,r,o)),"function"==typeof i._setup&&i._setup(this,r),this.providers.forEach(e=>e.call(this,i,r,o)),this._isSetup&&"function"==typeof i.setup&&(debug(`Setting up service for \`${r}\``),i.setup(this,r)),this.services[r]=i,this},setup(){return Object.keys(this.services).forEach(e=>{const t=this.services[e];debug(`Setting up service for \`${e}\``),"function"==typeof t.setup&&t.setup(this,e)}),this._isSetup=!0,this}};var application_1=application;const{hooks:hooks$1}=commons,{ACTIVATE_HOOKS:ACTIVATE_HOOKS,activateHooks:activateHooks}=hooks_1$1;function createApplication(){const e={};return proto.mixin(application_1,e),e.init(),e}createApplication.version=version,createApplication.SKIP=hooks$1.SKIP,createApplication.ACTIVATE_HOOKS=ACTIVATE_HOOKS,createApplication.activateHooks=activateHooks;var lib=createApplication,default_1=createApplication;function setup$1(e){function t(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let s;function i(...e){if(!i.enabled)return;const t=i,r=Number(new Date),n=r-(s||r);t.diff=n,t.prev=s,t.curr=r,s=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return r;c++;const s=o.formatters[n];if("function"==typeof s){const o=e[c];r=s.call(t,o),e.splice(c,1),c--}return r}),o.formatArgs.call(t,e),(t.log||o.log).apply(t,e)}return i.namespace=e,i.enabled=o.enabled(e),i.useColors=o.useColors(),i.color=t(e),i.destroy=r,i.extend=n,"function"==typeof o.init&&o.init(i),o.instances.push(i),i}function r(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function n(e,t){return o(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){const e=[...o.names.map(s),...o.skips.map(s).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=ms,Object.keys(e).forEach(t=>{o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}lib.default=default_1;var common$1=setup$1,browser$1=createCommonjsModule(function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),t.splice(n,0,o)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=common$1(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),browser_1$1=browser$1.log,browser_2$1=browser$1.formatArgs,browser_3$1=browser$1.save,browser_4$1=browser$1.load,browser_5$1=browser$1.useColors,browser_6$1=browser$1.storage,browser_7$1=browser$1.colors,node$1=createCommonjsModule(function(e,t){t.init=function(e){e.inspectOpts={};const o=Object.keys(t.inspectOpts);for(let r=0;r<o.length;r++)e.inspectOpts[o[r]]=t.inspectOpts[o[r]]},t.log=function(...e){return process.stderr.write(util.format(...e)+"\n")},t.formatArgs=function(o){const{namespace:r,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${r} [0m`;o[0]=s+o[0].split("\n").join("\n"+s),o.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else o[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+o[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):tty.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=supportsColor_1;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const o=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[o]=r,e},{}),e.exports=common$1(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts)}}),node_1$1=node$1.init,node_2$1=node$1.log,node_3$1=node$1.formatArgs,node_4$1=node$1.save,node_5$1=node$1.load,node_6$1=node$1.useColors,node_7$1=node$1.colors,node_8$1=node$1.inspectOpts,src$1=createCommonjsModule(function(e){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=browser$1:e.exports=node$1});const debug$1=src$1("@feathersjs/errors");function FeathersError(e,t,o,r,n){let s,i,c;(e=e||"Error")instanceof Error?(i=e.message||"Error",e.errors&&(s=e.errors)):"object"==typeof e?(i=e.message||"Error",n=e):i=e,n&&((c=JSON.parse(JSON.stringify(n))).errors?(s=c.errors,delete c.errors):n.errors&&(s=JSON.parse(JSON.stringify(n.errors)))),this.type="FeathersError",this.name=t,this.message=i,this.code=o,this.className=r,this.data=c,this.errors=s||{},debug$1(`${this.name}(${this.code}): ${this.message}`),debug$1(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,FeathersError):this.stack=(new Error).stack}function inheritsFrom(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function BadRequest(e,t){FeathersError.call(this,e,"BadRequest",400,"bad-request",t)}function NotAuthenticated(e,t){FeathersError.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function PaymentError(e,t){FeathersError.call(this,e,"PaymentError",402,"payment-error",t)}function Forbidden(e,t){FeathersError.call(this,e,"Forbidden",403,"forbidden",t)}function NotFound(e,t){FeathersError.call(this,e,"NotFound",404,"not-found",t)}function MethodNotAllowed(e,t){FeathersError.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function NotAcceptable(e,t){FeathersError.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function Timeout(e,t){FeathersError.call(this,e,"Timeout",408,"timeout",t)}function Conflict(e,t){FeathersError.call(this,e,"Conflict",409,"conflict",t)}function LengthRequired(e,t){FeathersError.call(this,e,"LengthRequired",411,"length-required",t)}function Unprocessable(e,t){FeathersError.call(this,e,"Unprocessable",422,"unprocessable",t)}function TooManyRequests(e,t){FeathersError.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function GeneralError(e,t){FeathersError.call(this,e,"GeneralError",500,"general-error",t)}function NotImplemented(e,t){FeathersError.call(this,e,"NotImplemented",501,"not-implemented",t)}function BadGateway(e,t){FeathersError.call(this,e,"BadGateway",502,"bad-gateway",t)}function Unavailable(e,t){FeathersError.call(this,e,"Unavailable",503,"unavailable",t)}inheritsFrom(FeathersError,Error),Object.defineProperty(FeathersError.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),inheritsFrom(BadRequest,FeathersError),inheritsFrom(NotAuthenticated,FeathersError),inheritsFrom(PaymentError,FeathersError),inheritsFrom(Forbidden,FeathersError),inheritsFrom(NotFound,FeathersError),inheritsFrom(MethodNotAllowed,FeathersError),inheritsFrom(NotAcceptable,FeathersError),inheritsFrom(Timeout,FeathersError),inheritsFrom(Conflict,FeathersError),inheritsFrom(LengthRequired,FeathersError),inheritsFrom(Unprocessable,FeathersError),inheritsFrom(TooManyRequests,FeathersError),inheritsFrom(GeneralError,FeathersError),inheritsFrom(NotImplemented,FeathersError),inheritsFrom(BadGateway,FeathersError),inheritsFrom(Unavailable,FeathersError);const errors={FeathersError:FeathersError,BadRequest:BadRequest,NotAuthenticated:NotAuthenticated,PaymentError:PaymentError,Forbidden:Forbidden,NotFound:NotFound,MethodNotAllowed:MethodNotAllowed,NotAcceptable:NotAcceptable,Timeout:Timeout,Conflict:Conflict,LengthRequired:LengthRequired,Unprocessable:Unprocessable,TooManyRequests:TooManyRequests,GeneralError:GeneralError,NotImplemented:NotImplemented,BadGateway:BadGateway,Unavailable:Unavailable,400:BadRequest,401:NotAuthenticated,402:PaymentError,403:Forbidden,404:NotFound,405:MethodNotAllowed,406:NotAcceptable,408:Timeout,409:Conflict,411:LengthRequired,422:Unprocessable,429:TooManyRequests,500:GeneralError,501:NotImplemented,502:BadGateway,503:Unavailable};function convert(e){if(!e)return e;const t=errors[e.name],o=t?new t(e.message,e.data):new Error(e.message||e);return"object"==typeof e&&Object.assign(o,e),o}var lib$1=Object.assign({convert:convert},errors);function setup$2(e){function t(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let s;function i(...e){if(!i.enabled)return;const t=i,r=Number(new Date),n=r-(s||r);t.diff=n,t.prev=s,t.curr=r,s=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return r;c++;const s=o.formatters[n];if("function"==typeof s){const o=e[c];r=s.call(t,o),e.splice(c,1),c--}return r}),o.formatArgs.call(t,e),(t.log||o.log).apply(t,e)}return i.namespace=e,i.enabled=o.enabled(e),i.useColors=o.useColors(),i.color=t(e),i.destroy=r,i.extend=n,"function"==typeof o.init&&o.init(i),o.instances.push(i),i}function r(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function n(e,t){return o(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){const e=[...o.names.map(s),...o.skips.map(s).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=ms,Object.keys(e).forEach(t=>{o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}var common$2=setup$2,browser$2=createCommonjsModule(function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),t.splice(n,0,o)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=common$2(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),browser_1$2=browser$2.log,browser_2$2=browser$2.formatArgs,browser_3$2=browser$2.save,browser_4$2=browser$2.load,browser_5$2=browser$2.useColors,browser_6$2=browser$2.storage,browser_7$2=browser$2.colors,node$2=createCommonjsModule(function(e,t){t.init=function(e){e.inspectOpts={};const o=Object.keys(t.inspectOpts);for(let r=0;r<o.length;r++)e.inspectOpts[o[r]]=t.inspectOpts[o[r]]},t.log=function(...e){return process.stderr.write(util.format(...e)+"\n")},t.formatArgs=function(o){const{namespace:r,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${r} [0m`;o[0]=s+o[0].split("\n").join("\n"+s),o.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else o[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+o[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):tty.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=supportsColor_1;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const o=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[o]=r,e},{}),e.exports=common$2(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts)}}),node_1$2=node$2.init,node_2$2=node$2.log,node_3$2=node$2.formatArgs,node_4$2=node$2.save,node_5$2=node$2.load,node_6$2=node$2.useColors,node_7$2=node$2.colors,node_8$2=node$2.inspectOpts,src$2=createCommonjsModule(function(e){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=browser$2:e.exports=node$2});const{convert:convert$1,Timeout:Timeout$1}=lib$1,debug$2=src$2("@feathersjs/transport-commons/client"),namespacedEmitterMethods=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],otherEmitterMethods=["eventNames","getMaxListeners","setMaxListeners"],addEmitterMethods=e=>{otherEmitterMethods.forEach(t=>{e[t]=function(...e){if("function"!=typeof this.connection[t])throw new Error(`Can not call '${t}' on the client service connection`);return this.connection[t](...e)}}),namespacedEmitterMethods.forEach(t=>{e[t]=function(e,...o){if("function"!=typeof this.connection[t])throw new Error(`Can not call '${t}' on the client service connection`);const r=`${this.path} ${e}`;debug$2(`Calling emitter method ${t} with `+`namespaced event '${r}'`);const n=this.connection[t](r,...o);return n===this.connection?this:n}})};var client=class{constructor(e){this.events=e.events,this.path=e.name,this.connection=e.connection,this.method=e.method,this.timeout=e.timeout||5e3,addEmitterMethods(this)}send(e,...t){return new Promise((o,r)=>{const n=setTimeout(()=>r(new Timeout$1(`Timeout of ${this.timeout}ms exceeded calling ${e} on ${this.path}`,{timeout:this.timeout,method:e,path:this.path})),this.timeout);t.unshift(e,this.path),t.push(function(e,t){return e=convert$1(e),clearTimeout(n),e?r(e):o(t)}),debug$2(`Sending socket.${this.method}`,t),this.connection[this.method](...t)})}find(e={}){return this.send("find",e.query||{})}get(e,t={}){return this.send("get",e,t.query||{})}create(e,t={}){return this.send("create",e,t.query||{})}update(e,t,o={}){return this.send("update",e,t,o.query||{})}patch(e,t,o={}){return this.send("patch",e,t,o.query||{})}remove(e,t={}){return this.send("remove",e,t.query||{})}off(e,...t){return"function"==typeof this.connection.off?this.connection.off(`${this.path} ${e}`,...t):0===t.length?this.removeAllListeners(e):this.removeListener(e,...t)}},client$1=client;function socketioClient(e,t){if(!e)throw new Error("Socket.io connection needs to be provided");const o=function(o){const r=Object.keys(this.eventMappings||{}).map(e=>this.eventMappings[e]),n=Object.assign({},t,{events:r,name:o,connection:e,method:"emit"});return new client$1(n)},r=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.io=e,this.defaultService=o};return r.Service=client$1,r.service=o,r}var lib$2=socketioClient,default_1$1=socketioClient;lib$2.default=default_1$1;var populateHeader=function(e={}){if(!e.header)throw new Error("You need to pass 'options.header' to the populateHeader() hook.");return function(t){return"before"!==t.type?Promise.reject(new Error("The 'populateHeader' hook should only be used as a 'before' hook.")):(t.params.accessToken&&(t.params.headers=Object.assign({},{[e.header]:e.prefix?`${e.prefix} ${t.params.accessToken}`:t.params.accessToken},t.params.headers)),Promise.resolve(t))}},populateAccessToken=function(){return function(e){const t=e.app;return"before"!==e.type?Promise.reject(new Error("The 'populateAccessToken' hook should only be used as a 'before' hook.")):(Object.assign(e.params,{accessToken:t.get("accessToken")}),Promise.resolve(e))}},populateEntity=function(e={}){if(!e.service)throw new Error("You need to pass 'options.service' to the populateEntity() hook.");if(!e.field)throw new Error("You need to pass 'options.field' to the populateEntity() hook.");if(!e.entity)throw new Error("You need to pass 'options.entity' to the populateEntity() hook.");return function(t){const o=t.app;return"after"!==t.type?Promise.reject(new Error("The 'populateEntity' hook should only be used as an 'after' hook.")):o.passport.verifyJWT(t.result.accessToken).then(t=>{const r=t[e.field];return r?o.service(e.service).get(r):Promise.reject(new Error(`Access token payload is missing the '${e.field}' field.`))}).then(r=>(t.result[e.entity]=r,o.set(e.entity,r),Promise.resolve(t)))}};let hooks$2={populateHeader:populateHeader,populateAccessToken:populateAccessToken,populateEntity:populateEntity};var hooks_1$2=hooks$2,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(e){this.message=e}function polyfill(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,r,n=0,s=0,i="";r=t.charAt(s++);~r&&(o=n%4?64*o+r:r,n++%4)?i+=String.fromCharCode(255&o>>(-2*n&6)):0)r=chars.indexOf(r);return i}InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError";var atob="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||polyfill;function b64DecodeUnicode(e){return decodeURIComponent(atob(e).replace(/(.)/g,function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}var base64_url_decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return b64DecodeUnicode(t)}catch(e){return atob(t)}};function InvalidTokenError(e){this.message=e}InvalidTokenError.prototype=new Error,InvalidTokenError.prototype.name="InvalidTokenError";var lib$3=function(e,t){if("string"!=typeof e)throw new InvalidTokenError("Invalid token specified");var o=!0===(t=t||{}).header?0:1;try{return JSON.parse(base64_url_decode(e.split(".")[o]))}catch(e){throw new InvalidTokenError("Invalid token specified: "+e.message)}},InvalidTokenError_1=InvalidTokenError;function setup$3(e){function t(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let s;function i(...e){if(!i.enabled)return;const t=i,r=Number(new Date),n=r-(s||r);t.diff=n,t.prev=s,t.curr=r,s=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return r;c++;const s=o.formatters[n];if("function"==typeof s){const o=e[c];r=s.call(t,o),e.splice(c,1),c--}return r}),o.formatArgs.call(t,e),(t.log||o.log).apply(t,e)}return i.namespace=e,i.enabled=o.enabled(e),i.useColors=o.useColors(),i.color=t(e),i.destroy=r,i.extend=n,"function"==typeof o.init&&o.init(i),o.instances.push(i),i}function r(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function n(e,t){return o(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){const e=[...o.names.map(s),...o.skips.map(s).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=ms,Object.keys(e).forEach(t=>{o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}lib$3.InvalidTokenError=InvalidTokenError_1;var common$3=setup$3,browser$3=createCommonjsModule(function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),t.splice(n,0,o)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=common$3(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),browser_1$3=browser$3.log,browser_2$3=browser$3.formatArgs,browser_3$3=browser$3.save,browser_4$3=browser$3.load,browser_5$3=browser$3.useColors,browser_6$3=browser$3.storage,browser_7$3=browser$3.colors,node$3=createCommonjsModule(function(e,t){t.init=function(e){e.inspectOpts={};const o=Object.keys(t.inspectOpts);for(let r=0;r<o.length;r++)e.inspectOpts[o[r]]=t.inspectOpts[o[r]]},t.log=function(...e){return process.stderr.write(util.format(...e)+"\n")},t.formatArgs=function(o){const{namespace:r,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${r} [0m`;o[0]=s+o[0].split("\n").join("\n"+s),o.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else o[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+o[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):tty.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=supportsColor_1;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const o=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[o]=r,e},{}),e.exports=common$3(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts)}}),node_1$3=node$3.init,node_2$3=node$3.log,node_3$3=node$3.formatArgs,node_4$3=node$3.save,node_5$3=node$3.load,node_6$3=node$3.useColors,node_7$3=node$3.colors,node_8$3=node$3.inspectOpts,src$3=createCommonjsModule(function(e){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=browser$3:e.exports=node$3}),Storage_1=class{constructor(){this.store={}}getItem(e){return this.store[e]}setItem(e,t){return this.store[e]=t}removeItem(e){return delete this.store[e],this}},payloadIsValid=function(e){return e&&(!e.exp||1e3*e.exp>(new Date).getTime())},getCookie=function(e){if("undefined"!=typeof document){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}return null},clearCookie=function(e){return"undefined"!=typeof document&&(document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;`),null},utils$1={Storage:Storage_1,payloadIsValid:payloadIsValid,getCookie:getCookie,clearCookie:clearCookie};const{Storage:Storage,payloadIsValid:payloadIsValid$1,getCookie:getCookie$1,clearCookie:clearCookie$1}=utils$1,debug$3=src$3("@feathersjs/authentication-client");var passport=class{constructor(e,t){if(e.passport)throw new Error("You have already registered authentication on this client app instance. You only need to do it once.");Object.assign(this,{options:t,app:e,payloadIsValid:payloadIsValid$1,getCookie:getCookie$1,clearCookie:clearCookie$1,storage:e.get("storage")||this.getStorage(t.storage)}),this.setJWT=this.setJWT.bind(this),e.set("storage",this.storage),this.getJWT().then(this.setJWT),this.setupSocketListeners()}setupSocketListeners(){const e=this.app,t=e.io||e.primus,o=e.io?"emit":"send",r=e.io?"reconnect":"reconnected";if(!t)return;t.on(r,()=>{if(debug$3("Socket reconnected"),t.authenticated){const r={strategy:this.options.jwtStrategy,accessToken:e.get("accessToken")};this.authenticateSocket(r,t,o).then(this.setJWT).catch(o=>{debug$3("Error re-authenticating after socket reconnect",o),t.authenticated=!1,e.emit("reauthentication-error",o)})}});const n=()=>{t.io.engine.on("upgrade",()=>{if(debug$3("Socket upgrading"),t.authenticated){const r={strategy:this.options.jwtStrategy,accessToken:e.get("accessToken")};this.authenticateSocket(r,t,o).then(this.setJWT).catch(o=>{debug$3("Error re-authenticating after socket upgrade",o),t.authenticated=!1,e.emit("reauthentication-error",o)})}})};t.io&&t.io.engine?n():t.on("connect",n)}connected(){const e=this.app;if(e.rest)return Promise.resolve();const t=e.io||e.primus;return t?e.io&&t.connected||e.primus&&3===t.readyState?(debug$3("Socket already connected"),Promise.resolve(t)):new Promise((o,r)=>{const n=e.primus?"open":"connect",s=e.io?"disconnect":"end",i=setTimeout(()=>{debug$3("Socket connection timed out"),r(new Error("Socket connection timed out"))},this.options.timeout);debug$3("Waiting for socket connection");const c=()=>{debug$3("Socket disconnected before it could connect"),t.authenticated=!1};t.once(s,c),t.once(n,()=>{debug$3("Socket connected"),debug$3(`Removing ${s} listener`),t.removeListener(s,c),clearTimeout(i),o(t)})}):Promise.reject(new Error("It looks like your client connection has not been configured."))}authenticate(e={}){const t=this.app;let o=Promise.resolve(e);return e.strategy||(e.accessToken?e.strategy=this.options.jwtStrategy:o=this.getJWT().then(e=>e?{strategy:this.options.jwtStrategy,accessToken:e}:Promise.reject(new lib$1.NotAuthenticated("Could not find stored JWT and no authentication strategy was given")))),o.then(e=>this.connected(t).then(o=>{if(t.rest)return t.service(this.options.path).create(e).then(this.setJWT);const r=t.io?"emit":"send";return this.authenticateSocket(e,o,r).then(this.setJWT)})).then(e=>(t.emit("authenticated",e),e))}authenticateSocket(e,t,o){return new Promise((r,n)=>{const s=setTimeout(()=>{debug$3("authenticateSocket timed out"),n(new Error("Authentication timed out"))},this.options.timeout);debug$3("Attempting to authenticate socket"),t[o]("authenticate",e,(e,o)=>{if(e)return n(e);clearTimeout(s),t.authenticated=!0,debug$3("Socket authenticated!"),r(o)})})}logoutSocket(e,t){return new Promise((o,r)=>{const n=setTimeout(()=>{debug$3("logoutSocket timed out"),r(new Error("Logout timed out"))},this.options.timeout);e[t]("logout",t=>{if(clearTimeout(n),e.authenticated=!1,t)return r(t);o()})})}logout(){const e=this.app;return e.set("accessToken",null),this.clearCookie(this.options.cookie),Promise.resolve(e.get("storage").removeItem(this.options.storageKey)).then(()=>{if(e.io||e.primus){const t=e.io?"emit":"send",o=e.io?e.io:e.primus;return this.logoutSocket(o,t)}}).then(t=>(e.emit("logout",t),t))}setJWT(e){const t=e&&e.accessToken?e.accessToken:e;return t&&(this.app.set("accessToken",t),this.app.get("storage").setItem(this.options.storageKey,t)),Promise.resolve(e)}getJWT(){const e=this.app;return new Promise((t,o)=>{const r=e.get("accessToken");return r?t(r):Promise.resolve(this.storage.getItem(this.options.storageKey)).then(e=>{let o=e||this.getCookie(this.options.cookie);return o&&"null"!==o&&!this.payloadIsValid(lib$3(o))&&(o=void 0),t(o)}).catch(o)})}verifyJWT(e){if("string"!=typeof e)return Promise.reject(new Error("Token provided to verifyJWT is missing or not a string"));try{let t=lib$3(e);return this.payloadIsValid(t)?Promise.resolve(t):Promise.reject(new Error("Invalid token: expired"))}catch(e){return Promise.reject(new Error("Cannot decode malformed token."))}}getStorage(e){return e||new Storage}};const defaults={header:"Authorization",cookie:"feathers-jwt",storageKey:"feathers-jwt",jwtStrategy:"jwt",path:"/authentication",entity:"user",service:"users",timeout:5e3};function init(e={}){const t=Object.assign({},defaults,e);return function(){const e=this;e.passport=new passport(e,t),e.authenticate=e.passport.authenticate.bind(e.passport),e.logout=e.passport.logout.bind(e.passport),e.mixins.push(function(o){if(e.version<"3.0.0")throw new Error("This version of @feathersjs/authentication-client only works with @feathersjs/feathers v3.0.0 or later.");o.hooks({before:hooks_1$2.populateAccessToken(t)})}),e.rest&&e.mixins.push(function(e){e.hooks({before:hooks_1$2.populateHeader(t)})})}}var lib$4=init,default_1$2=init,defaults_1=defaults;function createClient(e,t){const o=lib();return o.configure(lib$2(e)),o.configure(lib$4({storage:t})),o}lib$4.default=default_1$2,lib$4.defaults=defaults_1,module.exports=createClient;
//# sourceMappingURL=client.js.map
